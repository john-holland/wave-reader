{"version":3,"file":"background.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,iDAAiD;;AAE5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,MAAM;AACN,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,uDAAuD;AAC7F;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,gBAAgB;AACtD;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,QAAQ;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA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","sources":["webpack://wave-reader/./node_modules/regenerator-runtime/runtime.js","webpack://wave-reader/./src/background-scripts/log-view-background-system.ts","webpack://wave-reader/./src/config/feature-toggles.ts","webpack://wave-reader/./src/models/defaults.ts","webpack://wave-reader/./src/models/message.ts","webpack://wave-reader/./src/models/messages/simplified-messages.ts","webpack://wave-reader/./src/models/options.ts","webpack://wave-reader/./src/models/text.ts","webpack://wave-reader/./src/models/wave.ts","webpack://wave-reader/./src/services/ml-settings-service.ts","webpack://wave-reader/./src/util/attribute-constructor.ts","webpack://wave-reader/./src/utils/backend-api-wrapper.ts","webpack://wave-reader/./src/utils/mock-backend-responses.ts","webpack://wave-reader/webpack/bootstrap","webpack://wave-reader/webpack/runtime/compat get default export","webpack://wave-reader/webpack/runtime/define property getters","webpack://wave-reader/webpack/runtime/hasOwnProperty shorthand","webpack://wave-reader/webpack/runtime/make namespace object","webpack://wave-reader/./static/background.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { MessageUtility } from '../models/messages/simplified-messages';\nimport { MessageFactory } from '../models/messages/simplified-messages';\nimport { MLSettingsService } from '../services/ml-settings-service';\nimport { safeFetch, safeGraphQLRequest, setBackendRequestOverride } from '../utils/backend-api-wrapper';\nimport { getDefaultBackendRequestState } from '../config/feature-toggles';\n\n// Log-View-Machine Background System\nexport class LogViewBackgroundSystem {\n    private mlService: MLSettingsService;\n    private messageHistory: any[] = [];\n    private sessionId: string;\n    private activeTabs: Map<number, any> = new Map();\n    private extensionState: 'active' | 'inactive' = 'active';\n    private backendRequestsEnabled: boolean;\n    \n    // Health monitoring for background router\n    private healthStatus = {\n        status: 'healthy' as 'healthy' | 'degraded' | 'unhealthy',\n        lastHeartbeat: Date.now(),\n        errorCount: 0,\n        uptime: Date.now(),\n        messageCount: 0,\n        activeConnections: 0\n    };\n\n    constructor() {\n        console.log(\" Creating Log-View-Machine Background System...\");\n        \n        // Initialize services\n        this.mlService = new MLSettingsService();\n        this.sessionId = this.generateSessionId();\n        this.backendRequestsEnabled = getDefaultBackendRequestState();\n        setBackendRequestOverride(this.backendRequestsEnabled);\n        \n        // Initialize the system\n        this.init();\n        \n        // Set up message listeners\n        this.setupMessageListeners();\n        \n        // Start health monitoring\n        this.startHealthMonitoring();\n        \n        console.log(\" Log-View-Machine Background System initialized successfully\");\n    }\n\n    private generateSessionId(): string {\n        return `background-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n\n    private init() {\n        // Set up Chrome extension event listeners\n        this.setupChromeListeners();\n        \n        // Log system initialization\n        this.logMessage('system-init', 'Background system initialized successfully');\n    }\n\n    private setupChromeListeners() {\n        // Handle keyboard shortcuts\n        if (typeof chrome !== 'undefined' && chrome.commands) {\n            chrome.commands.onCommand.addListener((command) => {\n                this.handleKeyboardCommand(command);\n            });\n        }\n\n        // Handle extension installation\n        if (typeof chrome !== 'undefined' && chrome.runtime) {\n            chrome.runtime.onInstalled.addListener((details) => {\n                this.handleExtensionInstalled(details);\n            });\n\n            // Handle extension startup\n            chrome.runtime.onStartup.addListener(() => {\n                this.handleExtensionStartup();\n            });\n\n            // Handle tab updates\n            if (chrome.tabs) {\n                chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n                    this.handleTabUpdated(tabId, changeInfo, tab);\n                });\n\n                chrome.tabs.onRemoved.addListener((tabId, removeInfo) => {\n                    this.handleTabRemoved(tabId, removeInfo);\n                });\n            }\n        }\n    }\n\n    private setupMessageListeners() {\n        // Listen for messages from content scripts and popup\n        if (typeof chrome !== 'undefined' && chrome.runtime) {\n            chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n                this.handleRuntimeMessage(message, sender, sendResponse);\n                return true; // Keep message channel open\n            });\n        }\n    }\n\n    private handleKeyboardCommand(command: string) {\n        console.log(\" Log-View-Machine: Background received command:\", command);\n        this.logMessage('keyboard-command', `Received command: ${command}`);\n        \n        switch (command) {\n            case \"_execute_action\":\n                // This opens the popup - handled automatically by Chrome\n                this.logMessage('popup-open', 'Popup opened via keyboard shortcut');\n                break;\n                \n            case \"toggle-wave-reader\":\n                this.handleToggleWaveReader();\n                break;\n                \n            default:\n                this.logMessage('unknown-command', `Unknown command: ${command}`);\n        }\n    }\n\n    private handleExtensionInstalled(details: any) {\n        console.log(\" Log-View-Machine: Extension installed:\", details);\n        this.logMessage('extension-installed', `Extension installed: ${details.reason}`);\n        \n        // Initialize ML service with default patterns\n        this.initializeMLService();\n        \n        // Set up default extension state\n        this.extensionState = 'active';\n    }\n\n    private handleExtensionStartup() {\n        console.log(\" Log-View-Machine: Extension started\");\n        this.logMessage('extension-startup', 'Extension started');\n        \n        // Initialize ML service\n        this.initializeMLService();\n        \n        // Set up default extension state\n        this.extensionState = 'active';\n    }\n\n    private handleTabUpdated(tabId: number, changeInfo: any, tab: any) {\n        if (changeInfo.status === 'complete' && tab.url) {\n            // Check if the tab URL is accessible\n            if (this.isUrlAccessible(tab.url)) {\n                this.activeTabs.set(tabId, {\n                    url: tab.url,\n                    title: tab.title,\n                    timestamp: Date.now()\n                });\n                \n                this.logMessage('tab-updated', `Tab updated: ${tab.url}`, { tabId, url: tab.url });\n            }\n        }\n    }\n\n    private handleTabRemoved(tabId: number, removeInfo: any) {\n        this.activeTabs.delete(tabId);\n        this.logMessage('tab-removed', `Tab removed`, { tabId });\n    }\n\n    private handleToggleWaveReader() {\n        console.log(\" Log-View-Machine: Toggle wave reader command received\");\n        this.logMessage('toggle-requested', 'Toggle wave reader requested');\n        \n        // Get the active tab and send toggle message to content script\n        this.getActiveTab().then((tab) => {\n            if (!tab) {\n                this.logMessage('toggle-error', 'No active tab found for toggle command');\n                return;\n            }\n            \n            // Check if the tab URL is accessible\n            if (!this.isUrlAccessible(tab.url)) {\n                this.logMessage('toggle-skipped', `Skipping toggle for restricted URL: ${tab.url}`);\n                return;\n            }\n            \n            this.logMessage('toggle-sending', `Sending toggle command to tab: ${tab.url}`);\n            \n            // Send toggle message to content script via chrome.tabs.sendMessage\n            this.injectToggleCommand(tab.id);\n        }).catch((error) => {\n            this.logMessage('toggle-error', `Error getting active tab: ${error.message}`);\n        });\n    }\n\n    private async getActiveTab(): Promise<any> {\n        if (typeof chrome === 'undefined' || !chrome.tabs) {\n            throw new Error('Chrome tabs API not available');\n        }\n        \n        const tabs = await chrome.tabs.query({ active: true, currentWindow: true });\n        if (!tabs || tabs.length === 0) {\n            throw new Error('No active tabs found');\n        }\n        \n        return tabs[0];\n    }\n\n    private isUrlAccessible(url: string | undefined): boolean {\n        if (!url) return false;\n        \n        // Check if the URL is restricted\n        return !(\n            url.startsWith('chrome://') || \n            url.startsWith('chrome-extension://') || \n            url.startsWith('moz-extension://') ||\n            url.startsWith('edge://') ||\n            url.startsWith('about:')\n        );\n    }\n\n    private injectToggleCommand(tabId: number) {\n        if (typeof chrome === 'undefined' || !chrome.scripting) {\n            this.logMessage('toggle-error', 'Chrome scripting API not available');\n            return;\n        }\n        \n        chrome.scripting.executeScript({\n            target: { tabId },\n            func: (messageData) => {\n                console.log(\" Log-View-Machine: Background script injecting toggle command to content script:\", messageData);\n                // Note: In service worker context, we use chrome.tabs.sendMessage instead of window.postMessage\n                // This is handled by injectMessageToContentScript method\n                chrome.tabs.sendMessage(tabId, {\n                    source: 'wave-reader-extension',\n                    message: messageData\n                });\n            },\n            args: [{\n                from: 'background-script',\n                name: 'toggle-wave-reader',\n                timestamp: Date.now()\n            }]\n        }).then(() => {\n            this.logMessage('toggle-injected', 'Toggle command injected successfully');\n            \n            // Send keyboard toggle message to popup state machine instead of direct toggle\n            try {\n                chrome.runtime.sendMessage({\n                    from: 'background-script',\n                    name: 'KEYBOARD_TOGGLE',\n                    timestamp: Date.now(),\n                    action: 'keyboard-toggle',\n                    target: 'popup-state-machine'\n                });\n            } catch (error) {\n                // Ignore errors\n            }\n        }).catch((error) => {\n            this.logMessage('toggle-error', `Failed to inject toggle command: ${error.message}`);\n        });\n    }\n\n    private handleRuntimeMessage(message: any, sender: any, sendResponse: any) {\n        console.log(\"BACKGROUND->RUNTIME: Received runtime message:\", message);\n        \n        // Coalesce nested message objects - check if message has an embedded message property\n        let normalizedMessage = message;\n        if (message && typeof message === 'object' && message.message && typeof message.message === 'object') {\n            // Extract the inner message and merge with outer properties (like source)\n            normalizedMessage = {\n                ...message.message,\n                // Preserve outer properties like source if they exist and aren't in inner message\n                source: message.source || message.message.source,\n                from: message.from || message.message.from || message.source\n            };\n            console.log(\"BACKGROUND->RUNTIME: Coalesced nested message:\", normalizedMessage);\n        }\n        \n        // Normalize message name: handle both 'type' and 'name' fields, and convert to lowercase\n        if (!normalizedMessage.name && normalizedMessage.type) {\n            normalizedMessage.name = normalizedMessage.type.toLowerCase();\n        } else if (normalizedMessage.name && typeof normalizedMessage.name === 'string') {\n            normalizedMessage.name = normalizedMessage.name.toLowerCase();\n        }\n        \n        // Ensure 'from' field is set\n        if (!normalizedMessage.from) {\n            normalizedMessage.from = normalizedMessage.source || sender?.id ? 'popup' : 'unknown';\n        }\n        \n        console.log(\"BACKGROUND->RUNTIME: Normalized message name:\", normalizedMessage.name, \"from:\", normalizedMessage.from);\n        \n        this.logMessage('runtime-message', `Received ${normalizedMessage.name} from ${normalizedMessage.from}`);\n        \n        // Create a proper message using our factory\n        const properMessage = MessageFactory.createMessage(normalizedMessage.name, normalizedMessage.from, normalizedMessage);\n        \n        // Route the message through our message system\n        const route = MessageUtility.routeMessage(\n            normalizedMessage.from, \n            'background-script', \n            properMessage, \n            this.sessionId\n        );\n        \n        // Handle the message based on its type\n        this.processRuntimeMessage(properMessage, route, sender, sendResponse);\n    }\n\n    private processRuntimeMessage(message: any, route: any, sender: any, sendResponse: any) {\n        // Extract message name - check multiple possible locations and normalize\n        let messageName = message?.name || message?.message?.name || message?.type;\n        if (messageName && typeof messageName === 'string') {\n            messageName = messageName.toLowerCase();\n        }\n        \n        console.log(\"BACKGROUND->RUNTIME: Processing message with name:\", messageName);\n        \n        try {\n            switch (messageName) {\n                case 'initialize':\n                    console.log(\"BACKGROUND->POPUP: Processing initialize message\");\n                    this.handleInitialize(message, sender, sendResponse);\n                    break;\n                    \n                case 'selection-made':\n                    this.handleSelectionMade(message, sender, sendResponse);\n                    break;\n                    \n                case 'ping':\n                    console.log(\"BACKGROUND->CONTENT: Processing ping message\");\n                    this.handlePing(message, sender, sendResponse);\n                    break;\n                    \n                case 'health-check':\n                    this.handleHealthCheck(message, sender, sendResponse);\n                    break;\n                    \n                case 'ml-recommendation-request':\n                    this.handleMLRecommendationRequest(message, sender, sendResponse);\n                    break;\n                    \n                case 'settings-reset-request':\n                    this.handleSettingsResetRequest(message, sender, sendResponse);\n                    break;\n                    \n                case 'analytics-event':\n                    this.handleAnalyticsEvent(message, sender, sendResponse);\n                    break;\n                    \n                case 'extension-status-request':\n                    this.handleExtensionStatusRequest(message, sender, sendResponse);\n                    break;\n                    \n                case 'start':\n                    console.log(\"BACKGROUND->CONTENT: Processing start message\");\n                    this.handleStart(message, sender, sendResponse);\n                    break;\n                    \n                case 'stop':\n                    console.log(\"BACKGROUND->CONTENT: Processing stop message\");\n                    this.handleStop(message, sender, sendResponse);\n                    break;\n                    \n                case 'toggle':\n                    console.log(\"BACKGROUND->CONTENT: Processing toggle message\");\n                    this.handleToggle(message, sender, sendResponse);\n                    break;\n                    \n                case 'set-backend-toggle':\n                    console.log('BACKGROUND->API: Updating backend toggle state');\n                    this.handleBackendToggleUpdate(message, sender, sendResponse);\n                    break;\n                    \n                case 'backend-request':\n                    console.log('BACKGROUND->API: Processing backend request');\n                    this.handleBackendRequest(message, sender, sendResponse);\n                    break;\n                    \n                case 'graphql-request':\n                    console.log('BACKGROUND->API: Processing GraphQL request');\n                    this.handleGraphQLRequest(message, sender, sendResponse);\n                    break;\n                    \n                case 'LOOP_DETECTION_STATS':\n                    console.log(\"BACKGROUND->LOOP: Processing loop detection stats\");\n                    this.handleLoopDetectionStats(message, sender, sendResponse);\n                    break;\n                    \n                case 'update-going-state':\n                    console.log(\"BACKGROUND->STATE: Processing update-going-state message\");\n                    this.handleUpdateGoingState(message, sender, sendResponse);\n                    break;\n                    \n                default:\n                    console.log(` Log-View-Machine: Unknown runtime message type: ${messageName}`);\n                    this.logMessage('unknown-runtime-message', `Unknown message type: ${messageName}`);\n                    sendResponse({ success: false, error: 'Unknown message type' });\n            }\n        } catch (error: any) {\n            console.error(` Log-View-Machine: Error processing runtime message ${messageName}:`, error);\n            this.logMessage('runtime-message-error', `Error processing ${messageName}: ${error?.message || 'Unknown error'}`);\n            sendResponse({ success: false, error: error?.message || 'Unknown error' });\n        }\n    }\n\n    private handleInitialize(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling initialize message from popup\");\n        this.logMessage('initialize', 'Initialize request received from popup');\n        \n        // Increment active connections\n        this.healthStatus.activeConnections++;\n        \n        // Send initialization response with session info\n        sendResponse({\n            success: true,\n            sessionId: this.sessionId,\n            extensionState: this.extensionState,\n            healthStatus: {\n                status: this.healthStatus.status,\n                uptime: Date.now() - this.healthStatus.uptime,\n                messageCount: this.healthStatus.messageCount,\n                activeConnections: this.healthStatus.activeConnections\n            },\n            timestamp: Date.now()\n        });\n        \n        console.log(\" Log-View-Machine: Initialize response sent, active connections:\", this.healthStatus.activeConnections);\n    }\n\n    private handleSelectionMade(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling selection-made message:\", message.selector);\n        this.logMessage('selection-made', `Selector selected: ${message.selector}`);\n        \n        // Forward the message to the popup\n        this.forwardToPopup({\n            from: 'background-script',\n            name: 'selection-made',\n            selector: message.selector,\n            sessionId: this.sessionId\n        });\n        \n        sendResponse({ success: true });\n    }\n\n    private handlePing(message: any, sender: any, sendResponse: any) {\n        console.log(\"BACKGROUND->CONTENT: Handling heartbeat ping message from popup\");\n        this.logMessage('ping-received', 'Heartbeat ping received from popup');\n        \n        // Extract current state from the message for comparison\n        const currentState = message.currentState || {};\n        \n        // Get the active tab and send ping message to content script\n        this.getActiveTab().then(async (tab) => {\n            if (!tab || !this.isUrlAccessible(tab.url)) {\n                this.logMessage('ping-skipped', 'Ping skipped for restricted URL');\n                sendResponse({ success: false, error: 'URL not accessible' });\n                return;\n            }\n            \n            try {\n                // Get current state from content script\n                const contentState = await this.getContentScriptState(tab.id);\n                \n                // Compare states and prepare response with any updates\n                const updates: any = {};\n                let hasUpdates = false;\n                \n                if (contentState.going !== undefined && contentState.going !== currentState.going) {\n                    updates.going = contentState.going;\n                    hasUpdates = true;\n                }\n                \n                if (contentState.selector && contentState.selector !== currentState.selector) {\n                    updates.selector = contentState.selector;\n                    hasUpdates = true;\n                }\n                \n                // Update tab tracking\n                this.activeTabs.set(tab.id, {\n                    ...this.activeTabs.get(tab.id),\n                    lastPing: Date.now(),\n                    going: contentState.going,\n                    selector: contentState.selector\n                });\n                \n                this.logMessage('ping-processed', `Heartbeat processed - updates: ${hasUpdates}`);\n                sendResponse({ \n                    success: true, \n                    data: hasUpdates ? updates : {},\n                    hasUpdates\n                });\n                \n            } catch (error: any) {\n                this.logMessage('ping-error', `Error processing heartbeat: ${error.message}`);\n                sendResponse({ success: false, error: error.message });\n            }\n        }).catch((error) => {\n            this.logMessage('ping-error', `Error handling ping: ${error.message}`);\n            sendResponse({ success: false, error: error.message });\n        });\n    }\n\n    private async getContentScriptState(tabId: number): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (typeof chrome === 'undefined' || !chrome.tabs) {\n                reject(new Error('Chrome tabs API not available'));\n                return;\n            }\n            \n            // Send message to content script to get current state\n            console.log(\"BACKGROUND->CONTENT: Sending get-status message to tab\", tabId);\n            chrome.tabs.sendMessage(tabId, {\n                source: 'wave-reader-extension',\n                message: {\n                    from: 'background-script',\n                    name: 'get-status',\n                    timestamp: Date.now()\n                }\n            }, (response) => {\n                console.log(\"CONTENT->BACKGROUND: Received get-status response:\", response);\n                if (chrome.runtime.lastError) {\n                    reject(new Error(chrome.runtime.lastError.message));\n                    return;\n                }\n                \n                // Default state if no response\n                const defaultState = {\n                    going: false,\n                    selector: null,\n                    activeTab: tabId,\n                    lastActivity: Date.now()\n                };\n                \n                resolve(response || defaultState);\n            });\n        });\n    }\n\n    private injectPingCommand(tabId: number) {\n        if (typeof chrome === 'undefined' || !chrome.scripting) {\n            this.logMessage('ping-error', 'Chrome scripting API not available');\n            return;\n        }\n        \n        chrome.scripting.executeScript({\n            target: { tabId },\n            func: (messageData) => {\n                console.log(\" Log-View-Machine: Background script injecting ping command to content script:\", messageData);\n                // Note: In service worker context, we use chrome.tabs.sendMessage instead of window.postMessage\n                // This is handled by injectMessageToContentScript method\n                chrome.tabs.sendMessage(tabId, {\n                    source: 'wave-reader-extension',\n                    message: messageData\n                });\n            },\n            args: [{\n                from: 'background-script',\n                name: 'ping',\n                timestamp: Date.now()\n            }]\n        }).then(() => {\n            this.logMessage('ping-injected', 'Ping command injected successfully');\n        }).catch((error) => {\n            this.logMessage('ping-error', `Failed to inject ping command: ${error.message}`);\n        });\n    }\n\n    private handleHealthCheck(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling health check message\");\n        this.logMessage('health-check-requested', 'Health check requested');\n        \n        // Update health status\n        this.healthStatus.lastHeartbeat = Date.now();\n        this.healthStatus.activeConnections = this.activeTabs.size;\n        \n        // Prepare comprehensive health data for sync system\n        const healthData = {\n            success: true,\n            status: this.healthStatus.status,\n            uptime: Date.now() - this.healthStatus.uptime,\n            messageCount: this.healthStatus.messageCount,\n            activeConnections: this.healthStatus.activeConnections,\n            sessionId: this.sessionId,\n            lastHeartbeat: this.healthStatus.lastHeartbeat,\n            errorCount: this.healthStatus.errorCount,\n            // Additional sync data\n            activeTabs: Array.from(this.activeTabs.entries()).map(([tabId, tabData]) => ({\n                tabId,\n                lastPing: tabData.lastPing || 0,\n                going: tabData.going || false,\n                selector: tabData.selector || null\n            })),\n            extensionState: this.extensionState\n        };\n        \n        // Send comprehensive health status response\n        sendResponse(healthData);\n    }\n\n    private handleMLRecommendationRequest(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling ML recommendation request\");\n        this.logMessage('ml-request', 'ML recommendation requested');\n        \n        const { domain, path, selector } = message;\n        \n        this.mlService.getSettingsRecommendations(domain, path, selector)\n            .then((recommendations) => {\n                this.logMessage('ml-recommendations', `Generated ${recommendations.length} ML recommendations`);\n                sendResponse({ success: true, recommendations });\n            })\n            .catch((error) => {\n                this.logMessage('ml-error', `Error generating recommendations: ${error.message}`);\n                sendResponse({ success: false, error: error.message });\n            });\n    }\n\n    private handleSettingsResetRequest(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling settings reset request\");\n        this.logMessage('settings-reset-requested', 'Settings reset requested');\n        \n        try {\n            const newDefaults = this.mlService.resetToNewDefaults();\n            this.logMessage('settings-reset-completed', 'Settings reset to ML defaults completed');\n            sendResponse({ success: true, newDefaults });\n        } catch (error: any) {\n            this.logMessage('settings-reset-error', `Error resetting settings: ${error?.message || 'Unknown error'}`);\n            sendResponse({ success: false, error: error?.message || 'Unknown error' });\n        }\n    }\n\n    private handleAnalyticsEvent(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling analytics event\");\n        this.logMessage('analytics-event', `Analytics event: ${message.eventType}`);\n        \n        // Process analytics event\n        this.processAnalyticsEvent(message);\n        \n        sendResponse({ success: true });\n    }\n\n    private handleExtensionStatusRequest(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling extension status request\");\n        this.logMessage('status-requested', 'Extension status requested');\n        \n        const status = {\n            extensionState: this.extensionState,\n            activeTabsCount: this.activeTabs.size,\n            sessionId: this.sessionId,\n            timestamp: Date.now(),\n            mlServiceStatus: 'active',\n            messageHistoryLength: this.messageHistory.length\n        };\n        \n        sendResponse({ success: true, status });\n    }\n\n    private forwardToPopup(message: any) {\n        if (typeof chrome === 'undefined' || !chrome.runtime) {\n            this.logMessage('popup-forward-error', 'Chrome runtime not available');\n            return;\n        }\n        \n        try {\n            chrome.runtime.sendMessage(message);\n            this.logMessage('popup-forwarded', 'Message forwarded to popup successfully');\n        } catch (error: any) {\n            this.logMessage('popup-forward-error', `Popup not available: ${error?.message || 'Unknown error'}`);\n        }\n    }\n\n    private initializeMLService() {\n        console.log(\" Log-View-Machine: Initializing ML service\");\n        this.logMessage('ml-service-init', 'ML service initialization started');\n        \n        // The ML service is already initialized in the constructor\n        // This method can be used for additional setup if needed\n        \n        this.logMessage('ml-service-init', 'ML service initialization completed');\n    }\n\n    private processAnalyticsEvent(event: any) {\n        console.log(\" Log-View-Machine: Processing analytics event:\", event);\n        this.logMessage('analytics-processed', `Analytics event processed: ${event.eventType}`);\n        \n        // Process analytics data here\n        // This could include sending to external analytics services, storing locally, etc.\n    }\n\n    private performHealthCheck() {\n        const healthStatus = {\n            timestamp: Date.now(),\n            sessionId: this.sessionId,\n            extensionState: this.extensionState,\n            activeTabsCount: this.activeTabs.size,\n            mlService: !!this.mlService,\n            messageHistoryLength: this.messageHistory.length,\n            chromeApis: {\n                runtime: typeof chrome !== 'undefined' && !!chrome.runtime,\n                tabs: typeof chrome !== 'undefined' && !!chrome.tabs,\n                scripting: typeof chrome !== 'undefined' && !!chrome.scripting,\n                commands: typeof chrome !== 'undefined' && !!chrome.commands\n            }\n        };\n        \n        console.log(\" Log-View-Machine: Health check completed:\", healthStatus);\n        return healthStatus;\n    }\n\n    private logMessage(type: string, message: string, data?: any) {\n        const logEntry = {\n            timestamp: Date.now(),\n            type,\n            message,\n            data,\n            sessionId: this.sessionId,\n            extensionState: this.extensionState\n        };\n        \n        this.messageHistory.push(logEntry);\n        \n        // Keep only last 1000 messages\n        if (this.messageHistory.length > 1000) {\n            this.messageHistory = this.messageHistory.slice(-1000);\n        }\n        \n        // Log to console in development\n        console.log(` Log-View-Machine [${type}]:`, message, data || '');\n    }\n\n    private async handleStart(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling start message:\", message);\n        this.logMessage('start-requested', 'Start wave reader requested');\n        \n        try {\n            // Get active tab\n            const tab = await this.getActiveTab();\n            if (!tab) {\n                throw new Error('No active tab found');\n            }\n            \n            // Check if the tab URL is accessible\n            if (!this.isUrlAccessible(tab.url)) {\n                throw new Error(`Cannot access restricted URL: ${tab.url}`);\n            }\n            \n            // Send start message to content script via chrome.tabs.sendMessage\n            console.log(\"BACKGROUND->CONTENT: Sending start message to tab\", tab.id);\n            await this.injectMessageToContentScript(tab.id, {\n                from: 'background-script',\n                name: 'start',\n                options: message.options,\n                timestamp: Date.now()\n            });\n            \n            // Update active tabs tracking\n            this.activeTabs.set(tab.id, {\n                ...this.activeTabs.get(tab.id),\n                state: 'waving',\n                startTime: Date.now(),\n                options: message.options,\n                going: true,\n                lastActivity: Date.now()\n            });\n            \n            this.logMessage('start-success', 'Wave reader started successfully');\n            sendResponse({ \n                success: true, \n                message: 'Wave reader started',\n                data: {\n                    going: true,\n                    tabId: tab.id,\n                    startTime: Date.now()\n                }\n            });\n            \n        } catch (error: any) {\n            console.error(' Log-View-Machine: Failed to start wave reader:', error);\n            this.logMessage('start-error', `Failed to start: ${error.message}`);\n            sendResponse({ success: false, error: error.message });\n        }\n    }\n\n    private handleUpdateGoingState(message: any, sender: any, sendResponse: any) {\n        try {\n            const tabId = sender?.tab?.id;\n            const going = message?.going ?? false;\n            \n            if (!tabId) {\n                console.warn(' Log-View-Machine: update-going-state message missing tab ID');\n                sendResponse({ success: false, error: 'Missing tab ID' });\n                return;\n            }\n            \n            // Update active tabs tracking\n            if (this.activeTabs.has(tabId)) {\n                const tabInfo = this.activeTabs.get(tabId);\n                tabInfo.going = going;\n                tabInfo.state = going ? 'waving' : 'stopped';\n                tabInfo.lastActivity = Date.now();\n                this.activeTabs.set(tabId, tabInfo);\n            } else {\n                // Create new entry if tab not tracked yet\n                this.activeTabs.set(tabId, {\n                    state: going ? 'waving' : 'stopped',\n                    going: going,\n                    lastActivity: Date.now(),\n                    startTime: going ? Date.now() : undefined,\n                    stopTime: going ? undefined : Date.now()\n                });\n            }\n            \n            this.logMessage('going-state-updated', `Going state updated to ${going} for tab ${tabId}`);\n            sendResponse({ success: true, going, tabId });\n        } catch (error: any) {\n            console.error(' Log-View-Machine: Failed to update going state:', error);\n            sendResponse({ success: false, error: error?.message || 'Unknown error' });\n        }\n    }\n\n    private handleLoopDetectionStats(message: any, sender: any, sendResponse: any) {\n        const { data } = message;\n        const { timestamp, currentState, recentEvents, recentStates, eventFrequency, stateFrequency, source } = data;\n        \n        // Log detailed stats to background console\n        console.log(' LOOP-DETECTION-STATS:', {\n            timestamp: new Date(timestamp).toISOString(),\n            source,\n            currentState,\n            recentEvents,\n            recentStates,\n            eventFrequency,\n            stateFrequency\n        });\n        \n        // Check for suspicious patterns\n        if (recentEvents > 10) {\n            console.warn(' HIGH EVENT FREQUENCY:', recentEvents, 'events in 10 seconds');\n        }\n        \n        if (recentStates > 5) {\n            console.warn(' HIGH STATE FREQUENCY:', recentStates, 'state changes in 10 seconds');\n        }\n        \n        // Check for specific event loops\n        Object.entries(eventFrequency || {}).forEach(([event, count]) => {\n            if ((count as number) > 5) {\n                console.warn(` EVENT LOOP DETECTED: '${event}' fired ${count} times`);\n            }\n        });\n        \n        // Check for state loops\n        Object.entries(stateFrequency || {}).forEach(([state, count]) => {\n            if ((count as number) > 3) {\n                console.warn(` STATE LOOP DETECTED: '${state}' visited ${count} times`);\n            }\n        });\n        \n        // Store stats for analysis\n        this.logMessage('loop-detection-stats', `State: ${currentState}, Events: ${recentEvents}, States: ${recentStates}`);\n        \n        sendResponse({ success: true, received: true });\n    }\n\n    private async handleStop(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling stop message:\", message);\n        this.logMessage('stop-requested', 'Stop wave reader requested');\n        \n        try {\n            // Get active tab\n            const tab = await this.getActiveTab();\n            if (!tab) {\n                throw new Error('No active tab found');\n            }\n            \n            // Check if the tab URL is accessible\n            if (!this.isUrlAccessible(tab.url)) {\n                // If URL is not accessible, wave reader can't be running, so \"stopped\" is already the state\n                console.log(' Log-View-Machine: Tab URL not accessible, wave reader not active:', tab.url);\n                sendResponse({ \n                    success: true, \n                    message: 'Wave reader not active on this page',\n                    data: {\n                        going: false,\n                        tabId: tab.id,\n                        stopTime: Date.now()\n                    }\n                });\n                return;\n            }\n            \n            // Send stop message to content script via chrome.tabs.sendMessage\n            console.log(\"BACKGROUND->CONTENT: Sending stop message to tab\", tab.id);\n            try {\n                await this.injectMessageToContentScript(tab.id, {\n                    from: 'background-script',\n                    name: 'stop',\n                    timestamp: Date.now()\n                });\n            } catch (error: any) {\n                // Check if error is due to content script not being loaded\n                const errorMessage = error?.message || String(error);\n                const errorCode = (error as any)?.code;\n                const isContentScriptNotReady = \n                    errorCode === 'CONTENT_SCRIPT_NOT_READY' ||\n                    errorMessage.includes('Content script not ready') ||\n                    errorMessage.includes('Could not establish connection') ||\n                    errorMessage.includes('Receiving end does not exist');\n                \n                if (isContentScriptNotReady) {\n                    // Content script not loaded means wave reader is already stopped\n                    console.log(' Log-View-Machine: Content script not ready, wave reader already stopped');\n                    // Continue to update tab tracking and send success response\n                } else {\n                    // Other errors should be re-thrown\n                    throw error;\n                }\n            }\n            \n            // Update active tabs tracking\n            if (this.activeTabs.has(tab.id)) {\n                const tabInfo = this.activeTabs.get(tab.id);\n                tabInfo.state = 'stopped';\n                tabInfo.stopTime = Date.now();\n                tabInfo.going = false;\n                tabInfo.lastActivity = Date.now();\n                this.activeTabs.set(tab.id, tabInfo);\n            }\n            \n            this.logMessage('stop-success', 'Wave reader stopped successfully');\n            sendResponse({ \n                success: true, \n                message: 'Wave reader stopped',\n                data: {\n                    going: false,\n                    tabId: tab.id,\n                    stopTime: Date.now()\n                }\n            });\n            \n        } catch (error: any) {\n            console.error(' Log-View-Machine: Failed to stop wave reader:', error);\n            this.logMessage('stop-error', `Failed to stop: ${error.message}`);\n            sendResponse({ success: false, error: error.message });\n        }\n    }\n\n    private async handleToggle(message: any, sender: any, sendResponse: any) {\n        console.log(\" Log-View-Machine: Handling toggle message:\", message);\n        this.logMessage('toggle-requested', 'Toggle wave reader requested');\n        \n        try {\n            // Get active tab\n            const tab = await this.getActiveTab();\n            if (!tab) {\n                throw new Error('No active tab found');\n            }\n            \n            // Check if the tab URL is accessible\n            if (!this.isUrlAccessible(tab.url)) {\n                throw new Error(`Cannot access restricted URL: ${tab.url}`);\n            }\n            \n            // Send toggle message to content script via chrome.tabs.sendMessage\n            await this.injectMessageToContentScript(tab.id, {\n                from: 'background-script',\n                name: 'toggle',\n                options: message.options,\n                timestamp: Date.now()\n            });\n            \n            this.logMessage('toggle-success', 'Wave reader toggle sent successfully');\n            sendResponse({ success: true, message: 'Wave reader toggled' });\n            \n        } catch (error: any) {\n            console.error(' Log-View-Machine: Failed to toggle wave reader:', error);\n            this.logMessage('toggle-error', `Failed to toggle: ${error.message}`);\n            sendResponse({ success: false, error: error.message });\n        }\n    }\n\n    private async handleBackendRequest(message: any, sender: any, sendResponse: any) {\n        try {\n            const request = message?.request || {};\n            const endpoint = request.endpoint;\n\n            if (!endpoint) {\n                sendResponse({ success: false, error: 'Missing backend endpoint' });\n                return;\n            }\n\n            const response = await safeFetch(\n                endpoint,\n                request.options || {},\n                request.mockKey || 'default',\n                { payload: request.payload }\n            );\n\n            const backendDisabled = response.headers?.get?.('X-Backend-Disabled') === 'true';\n            const data = await response.json();\n\n            sendResponse({ success: true, data, backendDisabled });\n        } catch (error: any) {\n            console.error(' Background API: Backend request failed', error);\n            sendResponse({ success: false, error: error?.message || 'Backend request failed' });\n        }\n    }\n\n    private async handleGraphQLRequest(message: any, sender: any, sendResponse: any) {\n        try {\n            const request = message?.request || {};\n            const endpoint = request.endpoint;\n            const query = request.query;\n\n            if (!endpoint || !query) {\n                sendResponse({ success: false, error: 'Missing GraphQL endpoint or query' });\n                return;\n            }\n\n            const result = await safeGraphQLRequest({\n                endpoint,\n                query,\n                variables: request.variables || {},\n                requestInit: request.options || {},\n                mockKey: request.mockKey || 'graphql',\n                context: request.context || {}\n            });\n\n            sendResponse({ success: true, data: result.data, errors: result.errors, backendDisabled: result.backendDisabled });\n        } catch (error: any) {\n            console.error(' Background API: GraphQL request failed', error);\n            sendResponse({ success: false, error: error?.message || 'GraphQL request failed' });\n        }\n    }\n\n    private handleBackendToggleUpdate(message: any, _sender: any, sendResponse: any) {\n        const enabled = Boolean(message?.enabled);\n        this.backendRequestsEnabled = enabled;\n        setBackendRequestOverride(enabled);\n        this.logMessage('backend-toggle-updated', `Backend requests ${enabled ? 'enabled' : 'disabled'}`);\n        sendResponse({ success: true, enabled });\n    }\n\n    private async injectMessageToContentScript(tabId: number, messageData: any) {\n        // Use chrome.tabs.sendMessage directly from background script context\n        // This is the correct way to send messages from background to content script\n        \n        // First, check if the tab URL is accessible\n        let tab: any;\n        try {\n            tab = await chrome.tabs.get(tabId);\n            if (!tab || !this.isUrlAccessible(tab.url)) {\n                // URL is not accessible (like about: pages, extension pages, etc.)\n                const errorMsg = `Cannot send message to restricted URL: ${tab?.url || 'unknown'}`;\n                console.log(' Background: ' + errorMsg);\n                throw new Error(errorMsg);\n            }\n        } catch (error: any) {\n            // If we can't even get the tab, something is wrong\n            console.error(' Background: Failed to get tab info:', tabId, error.message);\n            throw new Error(`Failed to access tab ${tabId}: ${error.message}`);\n        }\n        \n        // Try to send the message first\n        try {\n            await chrome.tabs.sendMessage(tabId, {\n                source: 'wave-reader-extension',\n                message: messageData\n            });\n            // Success! Message sent\n            return;\n        } catch (error: any) {\n            // Check for Firefox-specific error about receiving end not existing\n            const errorMessage = error?.message || String(error);\n            const isFirefoxConnectionError = \n                errorMessage.includes('Could not establish connection') ||\n                errorMessage.includes('Receiving end does not exist') ||\n                errorMessage.includes('receiving end does not exist');\n            \n            // Check for Chrome runtime error\n            const lastError = chrome.runtime.lastError;\n            const isRuntimeError = lastError && (\n                lastError.message?.includes('Receiving end does not exist') ||\n                lastError.message?.includes('Could not establish connection')\n            );\n            \n            // If content script is not ready, try to inject it\n            if (isFirefoxConnectionError || isRuntimeError) {\n                console.log(` Background: Content script not ready in tab ${tabId}, attempting to inject...`);\n                \n                try {\n                    // Try to inject content scripts programmatically\n                    // Check if scripting API is available\n                    if (typeof chrome !== 'undefined' && chrome.scripting && chrome.scripting.executeScript) {\n                        // Inject shadowContent.js (required for Firefox)\n                        try {\n                            await chrome.scripting.executeScript({\n                                target: { tabId: tabId },\n                                files: ['shadowContent.js']\n                            });\n                            console.log(' Background: shadowContent.js injected successfully');\n                        } catch (injectError: any) {\n                            console.log(' Background: shadowContent.js injection failed (may already be loaded):', injectError.message);\n                        }\n                        \n                        // Try to inject content.js (may be needed for Chrome or some setups)\n                        try {\n                            await chrome.scripting.executeScript({\n                                target: { tabId: tabId },\n                                files: ['content.js']\n                            });\n                            console.log(' Background: content.js injected successfully');\n                        } catch (injectError: any) {\n                            // content.js might not be available in all setups, which is fine\n                            console.log(' Background: content.js not available or already loaded:', injectError.message);\n                        }\n                        \n                        // Wait a brief moment for scripts to initialize\n                        await new Promise(resolve => setTimeout(resolve, 100));\n                        \n                        // Retry sending the message\n                        try {\n                            await chrome.tabs.sendMessage(tabId, {\n                                source: 'wave-reader-extension',\n                                message: messageData\n                            });\n                            console.log(' Background: Message sent successfully after content script injection');\n                            return;\n                        } catch (retryError: any) {\n                            console.error(' Background: Failed to send message after injection:', retryError.message);\n                            // Fall through to throw the original error\n                        }\n                    } else {\n                        console.error(' Background: Scripting API not available for injection');\n                    }\n                } catch (injectError: any) {\n                    console.error(' Background: Failed to inject content scripts:', injectError.message);\n                }\n                \n                // If injection failed or message still can't be sent, throw error\n                const specificError = new Error(`Content script not ready on tab ${tabId}: ${errorMessage}`);\n                (specificError as any).code = 'CONTENT_SCRIPT_NOT_READY';\n                throw specificError;\n            }\n            \n            // For other errors, log and re-throw\n            console.error(' Background: Failed to send message to tab:', tabId, errorMessage);\n            throw error;\n        }\n    }\n\n    // Public methods for external access\n    public getMessageHistory() {\n        return [...this.messageHistory];\n    }\n\n    public getExtensionState() {\n        return this.extensionState;\n    }\n\n    public getActiveTabsCount() {\n        return this.activeTabs.size;\n    }\n\n    public getSessionId() {\n        return this.sessionId;\n    }\n\n    public getHealthStatusLegacy() {\n        return this.performHealthCheck();\n    }\n\n    public destroy() {\n        console.log(\" Log-View-Machine: Destroying background system\");\n        \n        // Clean up\n        this.activeTabs.clear();\n        this.extensionState = 'inactive';\n        \n        this.logMessage('system-destroyed', 'Background system destroyed');\n    }\n\n    // Health monitoring methods for background router\n    private startHealthMonitoring() {\n        console.log(\" Background Router: Starting health monitoring\");\n        \n        // Ping health every 30 seconds\n        setInterval(() => {\n            this.updateHealthStatus();\n        }, 30000);\n\n        // Log health status every 5 minutes\n        setInterval(() => {\n            this.logHealthStatus();\n        }, 300000);\n    }\n\n    private updateHealthStatus() {\n        this.healthStatus.lastHeartbeat = Date.now();\n        \n        // Check if system is responsive\n        const timeSinceLastHeartbeat = Date.now() - this.healthStatus.lastHeartbeat;\n        const errorRate = this.healthStatus.errorCount / Math.max(this.healthStatus.messageCount, 1);\n        \n        // Determine health status\n        if (errorRate > 0.1 || timeSinceLastHeartbeat > 60000) {\n            this.healthStatus.status = 'unhealthy';\n        } else if (errorRate > 0.05 || timeSinceLastHeartbeat > 30000) {\n            this.healthStatus.status = 'degraded';\n        } else {\n            this.healthStatus.status = 'healthy';\n        }\n        \n        // Update active connections count\n        this.healthStatus.activeConnections = this.activeTabs.size;\n    }\n\n    private logHealthStatus() {\n        const uptime = Date.now() - this.healthStatus.uptime;\n        console.log(` Background Router Health:`, {\n            status: this.healthStatus.status,\n            uptime: `${Math.floor(uptime / 1000)}s`,\n            messageCount: this.healthStatus.messageCount,\n            errorCount: this.healthStatus.errorCount,\n            activeConnections: this.healthStatus.activeConnections,\n            lastHeartbeat: new Date(this.healthStatus.lastHeartbeat).toLocaleTimeString()\n        });\n    }\n\n    public getHealthStatus() {\n        this.updateHealthStatus();\n        return {\n            ...this.healthStatus,\n            uptime: Date.now() - this.healthStatus.uptime\n        };\n    }\n\n    // Increment message count and track errors\n    private trackMessage(hasError = false) {\n        this.healthStatus.messageCount++;\n        if (hasError) {\n            this.healthStatus.errorCount++;\n        }\n        this.healthStatus.lastHeartbeat = Date.now();\n    }\n}\n\n// Initialize the system when the script loads\nconsole.log(\" Log-View-Machine: Initializing background system...\");\n\n// Create the background system instance\nconst backgroundSystem = new LogViewBackgroundSystem();\n\n// Export for testing\nexport default LogViewBackgroundSystem;\n","/**\n * Feature Toggles Configuration\n * \n * Manages feature flags using Unleash\n * Default values are for release builds (conservative/safe defaults)\n */\n\nexport const FEATURE_TOGGLES = {\n    // Backend API Integration\n    ENABLE_BACKEND_API_REQUESTS: 'enable-backend-api-requests',\n    \n    // Premium Features\n    ENABLE_PREMIUM_EDITOR: 'enable-premium-editor',\n    ENABLE_MOD_MARKETPLACE: 'enable-mod-marketplace',\n    \n    // Token Economy\n    ENABLE_TOKEN_SYSTEM: 'enable-token-system',\n    ENABLE_DONATIONS: 'enable-donations',\n    \n    // Developer Features\n    DEVELOPER_MODE: 'developer-mode',\n    \n    // UI Features\n    ENABLE_PUPPIES: 'enable-puppies',\n} as const;\n\nexport const DEFAULT_TOGGLE_VALUES = {\n    [FEATURE_TOGGLES.ENABLE_BACKEND_API_REQUESTS]: false, // Off by default for release\n    [FEATURE_TOGGLES.ENABLE_PREMIUM_EDITOR]: false,\n    [FEATURE_TOGGLES.ENABLE_MOD_MARKETPLACE]: false,\n    [FEATURE_TOGGLES.ENABLE_TOKEN_SYSTEM]: false,\n    [FEATURE_TOGGLES.ENABLE_DONATIONS]: false,\n    [FEATURE_TOGGLES.DEVELOPER_MODE]: process.env.NODE_ENV === 'development',\n    [FEATURE_TOGGLES.ENABLE_PUPPIES]: false,\n};\n\n/**\n * Feature Toggle Service\n * Wraps RobotCopy.isEnabled with typed toggle names\n */\nexport class FeatureToggleService {\n    private robotCopy: any | null;\n    private cache: Map<keyof typeof FEATURE_TOGGLES, boolean>;\n    \n    constructor(robotCopy?: any) {\n        this.robotCopy = robotCopy ?? null;\n        this.cache = new Map();\n    }\n    \n    setRobotCopy(robotCopy: any) {\n        this.robotCopy = robotCopy;\n    }\n    \n    async isEnabled(toggle: keyof typeof FEATURE_TOGGLES): Promise<boolean> {\n        try {\n            if (!this.robotCopy || typeof this.robotCopy.isEnabled !== 'function') {\n                throw new Error('RobotCopy instance not available');\n            }\n            const toggleName = FEATURE_TOGGLES[toggle];\n            const enabled = await this.robotCopy.isEnabled(toggleName);\n            this.cache.set(toggle, Boolean(enabled));\n            return enabled;\n        } catch (error) {\n            console.warn(`Feature toggle check failed for ${toggle}, using default`);\n            const fallback = DEFAULT_TOGGLE_VALUES[FEATURE_TOGGLES[toggle]] ?? false;\n            this.cache.set(toggle, fallback);\n            return fallback;\n        }\n    }\n    \n    async canMakeBackendRequests(): Promise<boolean> {\n        return this.isEnabled('ENABLE_BACKEND_API_REQUESTS');\n    }\n    \n    async isPremiumEditorEnabled(): Promise<boolean> {\n        return this.isEnabled('ENABLE_PREMIUM_EDITOR');\n    }\n    \n    async isModMarketplaceEnabled(): Promise<boolean> {\n        return this.isEnabled('ENABLE_MOD_MARKETPLACE');\n    }\n    \n    async isDeveloperMode(): Promise<boolean> {\n        return this.isEnabled('DEVELOPER_MODE');\n    }\n\n    getCachedToggleValue(toggle: keyof typeof FEATURE_TOGGLES): boolean {\n        if (this.cache.has(toggle)) {\n            return this.cache.get(toggle)!;\n        }\n\n        const fallback = DEFAULT_TOGGLE_VALUES[FEATURE_TOGGLES[toggle]] ?? false;\n        this.cache.set(toggle, fallback);\n        return fallback;\n    }\n\n    getCachedBackendRequestState(): boolean {\n        return this.getCachedToggleValue('ENABLE_BACKEND_API_REQUESTS');\n    }\n}\n\nexport const getDefaultBackendRequestState = (): boolean => {\n    return DEFAULT_TOGGLE_VALUES[FEATURE_TOGGLES.ENABLE_BACKEND_API_REQUESTS];\n};\n\nexport const getBackendRequestStateSync = (service?: FeatureToggleService | null): boolean => {\n    if (service) {\n        try {\n            return service.getCachedBackendRequestState();\n        } catch (error) {\n            console.warn('Feature toggle sync lookup failed, using default backend state.', error);\n        }\n    }\n\n    return getDefaultBackendRequestState();\n};\n\n","import Wave from \"./wave\";\n\n\nexport const enum WaveAnimationControl {\n    CSS,\n    MOUSE\n}\n\nexport const KeyChordDefaultFactory = () => [\"f\", \"Shift\"]\nexport const WaveAnimationControlDefault: WaveAnimationControl = WaveAnimationControl.CSS;\nexport const ShowNotificationsDefault = true\nexport const GoingDefault = false\nexport const WaveDefaultFactory = () => Wave.getDefaultWave()\nexport const SelectorDefault: string = \"*\" /* \"p,h2,h3,h4,h5,h6,h7,h8,article,section,aside,figcaption,pre,div\" */\nexport const SelectorsDefaultFactory = () => [SelectorDefault]\nexport const WindowDocumentWidth = 600","import AttributeConstructor from \"../util/attribute-constructor\";\n// Removed state dependency - using simplified approach\n\nexport interface MessageInterface {\n    getName(): string;\n    getFrom(): string;\n    getClientId(): string;\n}\n\nexport default abstract class Message<T> extends AttributeConstructor<T> implements MessageInterface {\n    name: string;\n    from: string;\n    clientId?: string;\n\n    protected constructor(name: string, from: string, attributes?: Partial<T>, requireAllAssigned: boolean = true, clientId = undefined) {\n        super(attributes, requireAllAssigned)\n\n        this.name = name;\n        this.from = from;\n        this.clientId = clientId;\n    }\n\n    /**\n     * Returns clientId\n     */\n    getFrom(): string {\n        return this.from\n    }\n\n    getName(): string {\n        return this.name;\n    }\n\n    getClientId(): string {\n        if (!this.clientId) console.log(\"clientId is missing from message: \" + this.name + \", from, \" + this.from)\n        return this.clientId || \"no-id\";\n    }\n}\n","import Message from \"../message\";\nimport Options from \"../options\";\n\n// Simplified message system for the new Tome-based architecture\n\nexport class StartMessage extends Message<StartMessage> {\n    options?: Options;\n\n    constructor(attributes: Partial<StartMessage> = {\n        options: new Options()\n    }) {\n        super('start', 'popup', attributes);\n    }\n}\n\nexport class StopMessage extends Message<StopMessage> {\n    constructor(attributes: Partial<StopMessage> = {}) {\n        super('stop', 'popup', attributes);\n    }\n}\n\nexport class ToggleMessage extends Message<ToggleMessage> {\n    constructor(attributes: Partial<ToggleMessage> = {}) {\n        super('toggle', 'popup', attributes);\n    }\n}\n\nexport class PingMessage extends Message<PingMessage> {\n    constructor(attributes: Partial<PingMessage> = {}) {\n        super('ping', 'system', attributes);\n    }\n}\n\nexport class PongMessage extends Message<PongMessage> {\n    constructor(attributes: Partial<PongMessage> = {}) {\n        super('pong', 'system', attributes);\n    }\n}\n\nexport class InitializeMessage extends Message<InitializeMessage> {\n    sessionId?: string;\n    \n    constructor(attributes: Partial<InitializeMessage> = {}) {\n        super('initialize', 'popup', attributes);\n    }\n}\n\nexport class SelectionMadeMessage extends Message<SelectionMadeMessage> {\n    selector?: string;\n    \n    constructor(attributes: Partial<SelectionMadeMessage> = {}) {\n        super('selection-made', 'content', attributes);\n    }\n}\n\nexport class MLRecommendationMessage extends Message<MLRecommendationMessage> {\n    recommendation?: any;\n    \n    constructor(attributes: Partial<MLRecommendationMessage> = {}) {\n        super('ml-recommendation', 'system', attributes);\n    }\n}\n\n// Message factory for creating messages\nexport class MessageFactory {\n    static createMessage(name: string, from: string, data: any = {}) {\n        switch (name) {\n            case 'start':\n                return new StartMessage(data);\n            case 'stop':\n                return new StopMessage(data);\n            case 'toggle':\n                return new ToggleMessage(data);\n            case 'ping':\n                return new PingMessage(data);\n            case 'pong':\n                return new PongMessage(data);\n            case 'initialize':\n                return new InitializeMessage(data);\n            case 'selection-made':\n                return new SelectionMadeMessage(data);\n            case 'ml-recommendation':\n                return new MLRecommendationMessage(data);\n            default:\n                // Create a generic message for unknown types\n                const genericMessage = new (class extends Message<any> {\n                    constructor(name: string, from: string, data: any) {\n                        super(name, from, data);\n                    }\n                })(name, from, data);\n                return genericMessage;\n        }\n    }\n}\n\n// Simple message utility for routing\nexport class MessageUtility {\n    static routeMessage(from: string, to: string, message: any, sessionId: string) {\n        return {\n            from,\n            to,\n            message,\n            sessionId,\n            timestamp: Date.now()\n        };\n    }\n}\n","import AttributeConstructor from \"../util/attribute-constructor\";\nimport Wave from \"./wave\";\nimport { KeyChord } from \"../components/util/user-input\";\nimport {\n    WaveAnimationControlDefault,\n    ShowNotificationsDefault,\n    GoingDefault,\n    WaveAnimationControl,\n    WaveDefaultFactory,\n    KeyChordDefaultFactory,\n    SelectorsDefaultFactory\n} from \"./defaults\"\n// Removed state dependency - using simplified approach\n\nexport class WaveToggleConfig extends AttributeConstructor<WaveToggleConfig> {\n    // a 1-4ish length array of keys\n    keyChord: KeyChord = KeyChordDefaultFactory()\n\n    public constructor(attributes: Partial<WaveToggleConfig> = {}) {\n        super(attributes);\n        this.keyChord = attributes.keyChord || this.keyChord\n    }\n\n    static getDefaultConfig(): WaveToggleConfig {\n        return new WaveToggleConfig()\n    }\n}\n\nexport const DeepEquals = (a: unknown, b: unknown): boolean => {\n    if (typeof a !== 'object' && a === b) {\n        return true;\n    }\n\n    const aString = JSON.stringify(a);\n    const bString = JSON.stringify(b);\n\n    const aObj = JSON.parse(aString);\n    const bObj = JSON.parse(bString);\n\n    if (typeof a !== typeof b) {\n        console.log(\"array mismatch for property: aString: \" + aString + \", bString: \" + bString);\n        \n        return false;\n    }\n\n    if ((typeof a === \"boolean\" || typeof a === \"number\" || typeof a === \"string\") && a !== b) {\n        console.log(\"array mismatch for property: aString: \" + aString + \", bString: \" + bString);\n        return false;\n    }\n\n    if (Array.isArray(aObj) && ((Array.isArray(aObj) != Array.isArray(bObj))\n        || Object.keys(aObj).find(prop => !(prop in bObj)) ||\n           Object.keys(bObj).find(prop => !(prop in aObj)))) {\n        console.log(\"array mismatch for property: aString: \" + aString + \", bString: \" + bString);\n        return false;\n    }\n\n    for (const prop in aObj) {\n        if (Array.isArray(aObj[prop]) || Array.isArray(bObj[prop])) {\n            if (aObj[prop].find((ap: any, i: number) => Array.isArray(bObj[prop]) && !Object.is(ap, bObj[prop][i]))) {\n                console.log(\" array mismatch for property: \" + prop);\n                return false;\n            }\n        } else {\n            if (!DeepEquals(aObj[prop], bObj[prop])) {\n                console.log(\" array mismatch for property: \" + prop);\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\n// Domain/path-specific settings interface\nexport interface DomainPathSettings {\n    domain: string;\n    path: string;\n    settings: Partial<Options>;\n    lastUpdated: number;\n    usageCount: number;\n    userRating: number;\n}\n\nexport default class Options extends AttributeConstructor<Options> {\n    defaultSettings: boolean = false;\n    // Removed state dependency - using simplified approach\n    state: any = undefined;\n    showNotifications: boolean = ShowNotificationsDefault;\n    going: boolean = GoingDefault;\n    waveAnimationControl: WaveAnimationControl = WaveAnimationControlDefault;\n    wave: Wave = WaveDefaultFactory();\n    toggleKeys: WaveToggleConfig = WaveToggleConfig.getDefaultConfig();\n    selectors: string[] = SelectorsDefaultFactory();\n    domainPathSettings: Map<string, DomainPathSettings> = new Map();\n\n    constructor(props: Partial<Options> = {}) {\n        super(undefined);\n        // typescript auto-fills defaults here, if this is the desired behavior\n        super.assign(props);\n        // rehydrate the wave property as it surprisingly loses type after deserialization\n        this.wave = new Wave(this.wave);\n    }\n\n    public static getDefaultOptions(): Options {\n        return new Options();\n    }\n\n    public static OptionsEqual(a: Options, b: Options) {\n        return DeepEquals(a, b);\n    }\n\n    /**\n     * Get or create domain/path-specific settings\n     */\n    public getDomainPathSettings(domain: string, path: string): Partial<Options> {\n        const key = this.generateDomainPathKey(domain, path);\n        const existing = this.domainPathSettings.get(key);\n        \n        if (existing) {\n            // Increment usage count\n            existing.usageCount++;\n            existing.lastUpdated = Date.now();\n            return existing.settings;\n        }\n        \n        // Return default settings if none exist\n        return {};\n    }\n\n    /**\n     * Set domain/path-specific settings\n     */\n    public setDomainPathSettings(domain: string, path: string, settings: Partial<Options>): void {\n        const key = this.generateDomainPathKey(domain, path);\n        const existing = this.domainPathSettings.get(key);\n        \n        if (existing) {\n            // Update existing settings\n            existing.settings = { ...existing.settings, ...settings };\n            existing.lastUpdated = Date.now();\n            existing.usageCount++;\n        } else {\n            // Create new domain/path settings\n            this.domainPathSettings.set(key, {\n                domain,\n                path,\n                settings: { ...settings },\n                lastUpdated: Date.now(),\n                usageCount: 1,\n                userRating: 5 // Default high rating for new settings\n            });\n        }\n    }\n\n    /**\n     * Generate a unique key for domain/path combination\n     */\n    private generateDomainPathKey(domain: string, path: string): string {\n        return `${domain}${path}`;\n    }\n\n    /**\n     * Get all domain/path settings\n     */\n    public getAllDomainPathSettings(): DomainPathSettings[] {\n        return Array.from(this.domainPathSettings.values());\n    }\n\n    /**\n     * Remove domain/path settings\n     */\n    public removeDomainPathSettings(domain: string, path: string): boolean {\n        const key = this.generateDomainPathKey(domain, path);\n        return this.domainPathSettings.delete(key);\n    }\n\n    /**\n     * Update user rating for domain/path settings\n     */\n    public updateDomainPathRating(domain: string, path: string, rating: number): void {\n        const key = this.generateDomainPathKey(domain, path);\n        const existing = this.domainPathSettings.get(key);\n        \n        if (existing) {\n            existing.userRating = Math.max(1, Math.min(5, rating)); // Clamp between 1-5\n            existing.lastUpdated = Date.now();\n        }\n    }\n}\n","import AttributeConstructor from \"../util/attribute-constructor\";\n\nexport default class Text extends AttributeConstructor<Text> {\n    size?: string;\n    color?: string;\n\n    constructor(attributes: Partial<Text> = {\n        size: 'initial',\n        color: 'initial'\n    }) {\n        super(attributes);\n        this.assign(attributes);\n    }\n}","\nimport Text from '../models/text';\nimport AttributeConstructor from \"../util/attribute-constructor\";\nimport {SelectorDefault} from \"./defaults\";\n\nexport const defaultCssTemplate = (options: Wave, cssGenerationMode: 'template' | 'hardcoded' = 'hardcoded') => {\n  const mode = cssGenerationMode || 'hardcoded';\n  \n  if (mode === 'template') {\n    // Template mode: Use TEMPLATE variables that get replaced at runtime\n    return `\n@-webkit-keyframes wobble {\n  0% { transform: translateX(0%); rotateY(0deg); }\n  25% { transform: translateX(TRANSLATE_X_MIN%) rotateY(ROTATE_Y_MINdeg); }\n  50% { transform: translateX(0%); rotateY(ROTATE_Y_MAXdeg); }\n  75% { transform: translateX(TRANSLATE_X_MAX%) rotateY(ROTATE_Y_MINdeg); }\n  100% { transform: translateX(0%); rotateY(0deg); }\n}\n\n${options.selector || '.wave-reader__text'} {\n  font-size: ${options.text?.size || 'inherit'};\n  -webkit-animation-name: wobble;\n  animation-name: wobble;\n  -webkit-animation-duration: ${options.waveSpeed}s;\n  animation-duration: ${options.waveSpeed}s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  animation-iteration-count: infinite;\n}\n`;\n  } else {\n    // Hardcoded mode: Use actual values (current behavior)\n    return `\n@-webkit-keyframes wobble {\n  0% { transform: translateX(0%); rotateY(0deg); }\n  25% { transform: translateX(${options.axisTranslateAmountXMin}%); rotateY(${options.axisRotationAmountYMin}deg); }\n  50% { transform: translateX(0%); rotateY(${options.axisRotationAmountYMax}deg); }\n  75% { transform: translateX(${options.axisTranslateAmountXMax}%); rotateY(${options.axisRotationAmountYMin}deg); }\n  100% { transform: translateX(0%); rotateY(0deg); }\n}\n\n${options.selector || '.wave-reader__text'} {\n  font-size: ${options.text?.size || 'inherit'};\n  -webkit-animation-name: wobble;\n  animation-name: wobble;\n  -webkit-animation-duration: ${options.waveSpeed}s;\n  animation-duration: ${options.waveSpeed}s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  animation-iteration-count: infinite;\n}\n`;\n  }\n};\n\n// Direct positioning template - no keyframes, just direct transforms\nexport const defaultCssMouseTemplate = (options: Wave, cssGenerationMode: 'template' | 'hardcoded' = 'template') => {\n  const mode = cssGenerationMode || 'template';\n  \n  if (mode === 'template') {\n    // Template mode: Use TEMPLATE variables (current behavior)\n    return `\n${options.selector || '.wave-reader__text'} {\n  font-size: ${options.text?.size || 'inherit'};\n  transform: translateX(TRANSLATE_X%) rotateY(ROTATE_Ydeg);\n  transition: transform ANIMATION_DURATIONs ease-out;\n}\n`;\n  } else {\n    // Hardcoded mode: Use actual values (for consistency with CSS template)\n    // Note: For mouse template, hardcoded mode is less useful since values change dynamically,\n    // but we provide it for consistency\n    return `\n${options.selector || '.wave-reader__text'} {\n  font-size: ${options.text?.size || 'inherit'};\n  transform: translateX(0%) rotateY(0deg);\n  transition: transform ${options.waveSpeed || 2}s ease-out;\n}\n`;\n  }\n};\n\nconst TRANSLATE_X = \"TRANSLATE_X\";\nconst ROTATE_Y = \"ROTATE_Y\";\nconst ANIMATION_DURATION = \"ANIMATION_DURATION\";\nconst TRANSLATE_X_MIN = \"TRANSLATE_X_MIN\";\nconst TRANSLATE_X_MAX = \"TRANSLATE_X_MAX\";\nconst ROTATE_Y_MIN = \"ROTATE_Y_MIN\";\nconst ROTATE_Y_MAX = \"ROTATE_Y_MAX\";\n\nexport const replaceAnimationVariables = (wave: Wave, translateX: string, rotateY: string): string => {\n    return (wave.cssMouseTemplate || \"\")\n        .replaceAll(TRANSLATE_X, translateX)\n        .replaceAll(ROTATE_Y, rotateY);\n}\n\nexport const replaceAnimationVariablesWithDuration = (wave: Wave, translateX: string, rotateY: string, duration: number): string => {\n    let css = wave.cssMouseTemplate || \"\";\n    css = css.replaceAll(TRANSLATE_X, translateX);\n    css = css.replaceAll(ROTATE_Y, rotateY);\n    css = css.replaceAll(ANIMATION_DURATION, duration.toString());\n    return css;\n}\n\nconst enum WaveShape {\n    AUTO, // based on the wave shape options, choose best fit\n    F_SHAPED, // left to right (per orientation, like an ocean wave\n    LAYER_CAKE, // a swirl, broadly based on headers\n    F_SHAPED_STOP // the f-shaped wave, but stops horizontally at each horizontal page break, animating,\n    // offset each stop by a small degree, slightly more exagerated maybe but could really help those that spend a lot of\n    // their time scanning losely collected pages like personal shoppers, or people addicted to pinterest etc\n\n    // todo: perhaps a WaveRecommendationService, as we could pass in the result from the user selector choice,\n    //  then suggest a preset or a custom\n    // todo: research whether or not, layer cake or f-shaped scanning is:\n    //  - user preference (nurture)\n    //  - innate brain stuff (nature)\n    //  - a combination (both)\n    //  hypothesis: combination, based on the alignment of the page - more grid like, layer cake, more article like, f-shaped\n    //   https://www.nngroup.com/articles/layer-cake-pattern-scanning/\n    //  theory: the more evenly spaced the page, the more we should apply swirl animation to each stop\n    //       similar to the needleman-wunsch algorithm, we want to calculate a spread from expected average position\n    //  theory: (of my own behavior), spread(set, h, w, n, count) = <set[n].x - n * w/count, set[n].y - n * h/count>\n    //       if the avg sum of widths for horizontal and vertical is less than 1 standard deviation for each axis\n    //          then we have relatively evenly spread grid, and should use layer cake pattern for this selection\n    //       if the avg width sum of widths for horizontal and vertical is greater than 1 standard deviation for each axis\n    //          then we have an oblong shaped article, and should use an F-shaped pattern\n    //       todo: research:\n    //          if we choose layer-cake, we should check to see if each horizontal stop resembles an F-shaped, or layer cake pattern\n    //             then if we're still layer-caked, we stay with swirl, if not, we use hybrid or combination\n}\n\nexport default class Wave extends AttributeConstructor<Wave>{\n    text: Text = new Text();\n    selector?: string;\n    cssTemplate?: string;\n    cssMouseTemplate?: string;\n    waveSpeed?: number;\n    shape: WaveShape = WaveShape.F_SHAPED\n    axisTranslateAmountXMax?: number;\n    axisTranslateAmountXMin?: number;\n    axisRotationAmountYMax?: number;\n    axisRotationAmountYMin?: number;\n    mouseFollowInterval?: number;\n    cssGenerationMode?: 'template' | 'hardcoded';\n\n    constructor(attributes: Partial<Wave> = Wave.getDefaultWave()) {\n        super(attributes);\n        // Always generate CSS templates from current parameters (shader-like approach)\n        // Use the attributes directly to ensure we have the correct values\n        const waveWithAttributes = { ...this, ...attributes };\n        const cssGenerationMode = attributes.cssGenerationMode || 'hardcoded';\n        this.cssGenerationMode = cssGenerationMode;\n        this.cssTemplate = defaultCssTemplate(waveWithAttributes, cssGenerationMode);\n        this.cssMouseTemplate = defaultCssMouseTemplate(waveWithAttributes, cssGenerationMode);\n    }\n\n    // Always regenerate CSS templates from current parameters\n    public update(): Wave {\n        const cssGenerationMode = this.cssGenerationMode || 'hardcoded';\n        this.cssTemplate = defaultCssTemplate(this, cssGenerationMode);\n        this.cssMouseTemplate = defaultCssMouseTemplate(this, cssGenerationMode);\n        return this\n    }\n\n    public static getDefaultWave(): Wave {\n        return new Wave({\n            selector: SelectorDefault,\n            waveSpeed: 4,\n            shape: WaveShape.F_SHAPED,\n            axisTranslateAmountXMax: 0,\n            axisTranslateAmountXMin: -1,\n            axisRotationAmountYMin: -2,\n            axisRotationAmountYMax: 2,\n            mouseFollowInterval: 100,\n            text: new Text({\n                size: 'initial',\n                color: 'initial'\n            })\n        });\n    }\n}","import Options from '../models/options';\nimport Wave from '../models/wave';\n\nexport interface UserBehaviorPattern {\n    timestamp: number;\n    domain: string;\n    path: string;\n    selector: string;\n    settings: Partial<Options>;\n    success: boolean;\n    duration: number;\n    userRating: number;\n}\n\nexport interface MLSettingsRecommendation {\n    confidence: number;\n    settings: Partial<Options>;\n    reasoning: string[];\n    similarPatterns: number;\n    isDefault: boolean;\n    respectsUserSettings: boolean;\n}\n\nexport interface StatisticalBounds {\n    waveSpeed: { mean: number; stdDev: number; min: number; max: number };\n    axisTranslateAmountXMax: { mean: number; stdDev: number; min: number; max: number };\n    axisTranslateAmountXMin: { mean: number; stdDev: number; min: number; max: number };\n    axisRotationAmountYMax: { mean: number; stdDev: number; min: number; max: number };\n    axisRotationAmountYMin: { mean: number; stdDev: number; min: number; max: number };\n    mouseFollowInterval: { mean: number; stdDev: number; min: number; max: number };\n}\n\nexport class MLSettingsService {\n    private behaviorPatterns: UserBehaviorPattern[] = [];\n    private artificialWeightMultiplier = 3; // Heavily weight artificial defaults\n    private maxStandardDeviations = 2; // Limit recommendations to within 2 standard deviations\n    private defaultSettings!: Partial<Options>;\n    private statisticalBounds!: StatisticalBounds;\n\n    constructor() {\n        this.initializeDefaultSettings();\n        this.initializeArtificialDefaults();\n        this.calculateStatisticalBounds();\n    }\n\n    /**\n     * Scrub query parameters to remove potential PII\n     * @param url The URL to scrub\n     * @returns Cleaned URL without sensitive query parameters\n     */\n    private scrubQueryParameters(url: string): string {\n        try {\n            const urlObj = new URL(url);\n            const searchParams = urlObj.searchParams;\n            \n            // List of potentially sensitive query parameter names\n            const sensitiveParams = [\n                'token', 'auth', 'key', 'secret', 'password', 'passwd', 'pwd',\n                'session', 'sid', 'id', 'user', 'email', 'phone', 'mobile',\n                'tracking', 'utm_', 'fbclid', 'gclid', 'msclkid',\n                'ref', 'referrer', 'source', 'campaign',\n                'signature', 'hash', 'checksum', 'nonce',\n                'state', 'code', 'verification', 'confirm'\n            ];\n            \n            // Remove sensitive parameters\n            sensitiveParams.forEach(param => {\n                if (searchParams.has(param)) {\n                    searchParams.delete(param);\n                }\n            });\n            \n            // Remove any parameters that look like hashes or tokens (long alphanumeric strings)\n            const paramsToRemove: string[] = [];\n            searchParams.forEach((value, key) => {\n                // Check for long alphanumeric strings that might be tokens\n                if (value.length > 20 && /^[a-zA-Z0-9]+$/.test(value)) {\n                    paramsToRemove.push(key);\n                }\n                // Check for base64-like strings\n                if (value.length > 20 && /^[A-Za-z0-9+/=]+$/.test(value)) {\n                    paramsToRemove.push(key);\n                }\n            });\n            \n            paramsToRemove.forEach(param => searchParams.delete(param));\n            \n            return urlObj.toString();\n        } catch (error) {\n            // If URL parsing fails, return original URL\n            console.warn('Failed to parse URL for PII scrubbing:', error);\n            return url;\n        }\n    }\n\n    /**\n     * Clean a path by removing query parameters and scrubbing sensitive data\n     * @param path The path to clean\n     * @returns Cleaned path without sensitive query parameters\n     */\n    private cleanPath(path: string): string {\n        if (!path.includes('?')) {\n            return path;\n        }\n        \n        // Extract just the path part before query parameters\n        const pathOnly = path.split('?')[0];\n        \n        // If there are query parameters, scrub them\n        if (path.includes('?')) {\n            const fullUrl = `https://example.com${path}`;\n            const scrubbedUrl = this.scrubQueryParameters(fullUrl);\n            const scrubbedPath = scrubbedUrl.replace('https://example.com', '');\n            return scrubbedPath;\n        }\n        \n        return pathOnly;\n    }\n\n    private initializeDefaultSettings(): void {\n        this.defaultSettings = {\n            wave: new Wave({\n                selector: 'p, h1, h2, h3, .content, .article-body',\n                waveSpeed: 3,\n                axisTranslateAmountXMax: 1,\n                axisTranslateAmountXMin: -1,\n                axisRotationAmountYMax: 2,\n                axisRotationAmountYMin: -2,\n                mouseFollowInterval: 80\n            }),\n            showNotifications: true,\n            selectors: ['p', 'h1', 'h2', 'h3', '.content', '.article-body']\n        };\n    }\n\n    private initializeArtificialDefaults(): void {\n        const artificialPatterns: UserBehaviorPattern[] = [\n            {\n                timestamp: Date.now(),\n                domain: 'news.example.com',\n                path: '/article',\n                selector: 'p, h1, h2, h3, .content, .article-body',\n                settings: {\n                    wave: new Wave({\n                        selector: 'p, h1, h2, h3, .content, .article-body',\n                        waveSpeed: 3,\n                        axisTranslateAmountXMax: 1,\n                        axisTranslateAmountXMin: -1,\n                        axisRotationAmountYMax: 2,\n                        axisRotationAmountYMin: -2,\n                        mouseFollowInterval: 80\n                    }),\n                    showNotifications: true,\n                    selectors: ['p', 'h1', 'h2', 'h3', '.content', '.article-body']\n                },\n                success: true,\n                duration: 5000,\n                userRating: 5\n            },\n            {\n                timestamp: Date.now(),\n                domain: 'blog.example.com',\n                path: '/post',\n                selector: 'article p, .post-content, .entry-content',\n                settings: {\n                    wave: new Wave({\n                        selector: 'article p, .post-content, .entry-content',\n                        waveSpeed: 2.5,\n                        axisTranslateAmountXMax: 0.8,\n                        axisTranslateAmountXMin: -0.8,\n                        axisRotationAmountYMax: 1.5,\n                        axisRotationAmountYMin: -1.5,\n                        mouseFollowInterval: 100\n                    }),\n                    showNotifications: true,\n                    selectors: ['article p', '.post-content', '.entry-content']\n                },\n                success: true,\n                duration: 4000,\n                userRating: 4\n            },\n            {\n                timestamp: Date.now(),\n                domain: 'docs.example.com',\n                path: '/manual',\n                selector: 'p, li, .documentation, .guide',\n                settings: {\n                    wave: new Wave({\n                        selector: 'p, li, .documentation, .guide',\n                        waveSpeed: 4,\n                        axisTranslateAmountXMax: 1.2,\n                        axisTranslateAmountXMin: -1.2,\n                        axisRotationAmountYMax: 2.5,\n                        axisRotationAmountYMin: -2.5,\n                        mouseFollowInterval: 60\n                    }),\n                    showNotifications: false,\n                    selectors: ['p', 'li', '.documentation', '.guide']\n                },\n                success: true,\n                duration: 6000,\n                userRating: 5\n            },\n            {\n                timestamp: Date.now(),\n                domain: 'ecommerce.example.com',\n                path: '/product',\n                selector: '.product-description, .details, .specs',\n                settings: {\n                    wave: new Wave({\n                        selector: '.product-description, .details, .specs',\n                        waveSpeed: 2,\n                        axisTranslateAmountXMax: 0.6,\n                        axisTranslateAmountXMin: -0.6,\n                        axisRotationAmountYMax: 1.8,\n                        axisRotationAmountYMin: -1.8,\n                        mouseFollowInterval: 120\n                    }),\n                    showNotifications: true,\n                    selectors: ['.product-description', '.details', '.specs']\n                },\n                success: true,\n                duration: 3500,\n                userRating: 4\n            },\n            {\n                timestamp: Date.now(),\n                domain: 'social.example.com',\n                path: '/feed',\n                selector: '.post, .tweet, .status, .update',\n                settings: {\n                    wave: new Wave({\n                        selector: '.post, .tweet, .status, .update',\n                        waveSpeed: 1.8,\n                        axisTranslateAmountXMax: 0.5,\n                        axisTranslateAmountXMin: -0.5,\n                        axisRotationAmountYMax: 1.2,\n                        axisRotationAmountYMin: -1.2,\n                        mouseFollowInterval: 150\n                    }),\n                    showNotifications: true,\n                    selectors: ['.post', '.tweet', '.status', '.update']\n                },\n                success: true,\n                duration: 3000,\n                userRating: 3\n            }\n        ];\n\n        // Heavily weight artificial defaults by adding them multiple times\n        artificialPatterns.forEach(pattern => {\n            for (let i = 0; i < this.artificialWeightMultiplier; i++) {\n                this.behaviorPatterns.push({\n                    ...pattern,\n                    timestamp: pattern.timestamp + i * 1000\n                });\n            }\n        });\n    }\n\n    private calculateStatisticalBounds(): void {\n        const waveSettings = this.behaviorPatterns\n            .map(pattern => pattern.settings.wave)\n            .filter(Boolean) as Wave[];\n\n        if (waveSettings.length === 0) {\n            // Use default bounds if no patterns exist\n            this.statisticalBounds = {\n                waveSpeed: { mean: 3, stdDev: 1, min: 1, max: 5 },\n                axisTranslateAmountXMax: { mean: 1, stdDev: 0.5, min: 0, max: 2 },\n                axisTranslateAmountXMin: { mean: -1, stdDev: 0.5, min: -2, max: 0 },\n                axisRotationAmountYMax: { mean: 2, stdDev: 1, min: 0, max: 4 },\n                axisRotationAmountYMin: { mean: -2, stdDev: 1, min: -4, max: 0 },\n                mouseFollowInterval: { mean: 80, stdDev: 20, min: 40, max: 120 }\n            };\n            return;\n        }\n\n        // Calculate statistical bounds for each wave property\n        this.statisticalBounds = {\n            waveSpeed: this.calculatePropertyBounds(waveSettings.map(w => w.waveSpeed).filter((v): v is number => v !== undefined)),\n            axisTranslateAmountXMax: this.calculatePropertyBounds(waveSettings.map(w => w.axisTranslateAmountXMax).filter((v): v is number => v !== undefined)),\n            axisTranslateAmountXMin: this.calculatePropertyBounds(waveSettings.map(w => w.axisTranslateAmountXMin).filter((v): v is number => v !== undefined)),\n            axisRotationAmountYMax: this.calculatePropertyBounds(waveSettings.map(w => w.axisRotationAmountYMax).filter((v): v is number => v !== undefined)),\n            axisRotationAmountYMin: this.calculatePropertyBounds(waveSettings.map(w => w.axisRotationAmountYMin).filter((v): v is number => v !== undefined)),\n            mouseFollowInterval: this.calculatePropertyBounds(waveSettings.map(w => w.mouseFollowInterval).filter((v): v is number => v !== undefined))\n        };\n    }\n\n    private calculatePropertyBounds(values: number[]): { mean: number; stdDev: number; min: number; max: number } {\n        const mean = this.average(values);\n        const variance = this.average(values.map(v => Math.pow(v - mean, 2)));\n        const stdDev = Math.sqrt(variance);\n        \n        return {\n            mean,\n            stdDev,\n            min: mean - (this.maxStandardDeviations * stdDev),\n            max: mean + (this.maxStandardDeviations * stdDev)\n        };\n    }\n\n    private isWithinBounds(value: number, property: keyof StatisticalBounds): boolean {\n        const bounds = this.statisticalBounds[property];\n        return value >= bounds.min && value <= bounds.max;\n    }\n\n    private constrainToBounds(value: number, property: keyof StatisticalBounds): number {\n        const bounds = this.statisticalBounds[property];\n        return Math.max(bounds.min, Math.min(bounds.max, value));\n    }\n\n    async getSettingsRecommendations(\n        domain: string,\n        path: string = '/',\n        selector: string = 'p',\n        existingSettings?: Partial<Options>,\n        forceReset: boolean = false\n    ): Promise<MLSettingsRecommendation[]> {\n        try {\n            // Clean path to remove potential PII\n            const cleanPath = this.cleanPath(path);\n            \n            // Check for domain/path-specific settings first\n            if (existingSettings && !forceReset) {\n                const domainPathSettings = existingSettings.getDomainPathSettings?.(domain, cleanPath);\n                if (domainPathSettings && Object.keys(domainPathSettings).length > 0) {\n                    // Return domain/path-specific settings as high-confidence recommendation\n                    return [{\n                        confidence: 0.95,\n                        settings: domainPathSettings,\n                        reasoning: [`Using saved settings for ${domain}${cleanPath}`],\n                        similarPatterns: 1,\n                        isDefault: false,\n                        respectsUserSettings: true\n                    }];\n                }\n            }\n            \n            // Record this behavior pattern\n            const newPattern: UserBehaviorPattern = {\n                timestamp: Date.now(),\n                domain,\n                path: cleanPath,\n                selector,\n                settings: existingSettings || {},\n                success: true,\n                duration: 0,\n                userRating: 0\n            };\n            this.behaviorPatterns.push(newPattern);\n\n            // Find similar patterns\n            const similarPatterns = this.findSimilarPatterns(domain, path, selector);\n            \n            if (similarPatterns.length === 0) {\n                return [this.getFallbackRecommendation(domain, path, selector)];\n            }\n\n            // Group patterns by settings similarity\n            const groupedPatterns = this.groupPatternsBySettings(similarPatterns);\n            \n            // Generate recommendations\n            const recommendations: MLSettingsRecommendation[] = [];\n            \n            for (const [settingsKey, patterns] of Array.from(groupedPatterns.entries())) {\n                const confidence = this.calculateConfidence(patterns);\n                const averageSettings = this.averageSettings(patterns);\n                \n                // Apply statistical bounds to ensure recommendations don't deviate too much\n                const constrainedSettings = this.applyStatisticalBounds(averageSettings);\n                \n                const reasoning = this.generateReasoning(patterns, domain, path);\n                \n                // Check if this recommendation respects user settings\n                const respectsUserSettings = existingSettings && !forceReset ? \n                    this.respectsUserSettings(constrainedSettings, existingSettings) : true;\n                \n                recommendations.push({\n                    confidence,\n                    settings: constrainedSettings,\n                    reasoning,\n                    similarPatterns: patterns.length,\n                    isDefault: false,\n                    respectsUserSettings\n                });\n            }\n\n            // Sort by confidence and respect for user settings\n            recommendations.sort((a, b) => {\n                if (a.respectsUserSettings && !b.respectsUserSettings) return -1;\n                if (!a.respectsUserSettings && b.respectsUserSettings) return 1;\n                return b.confidence - a.confidence;\n            });\n\n            return recommendations;\n\n        } catch (error) {\n            console.error('Error getting ML settings recommendations:', error);\n            return [this.getFallbackRecommendation(domain, path, selector)];\n        }\n    }\n\n    private findSimilarPatterns(domain: string, path: string, selector: string): UserBehaviorPattern[] {\n        // Clean the input path for comparison\n        const cleanPath = this.cleanPath(path);\n        \n        return this.behaviorPatterns\n            .filter(pattern => pattern.success && pattern.userRating >= 3)\n            .sort((a, b) => {\n                const similarityA = this.calculateSimilarity(domain, cleanPath, selector, a);\n                const similarityB = this.calculateSimilarity(domain, cleanPath, selector, b);\n                return similarityB - similarityA;\n            })\n            .slice(0, 10); // Top 10 most similar patterns\n    }\n\n    private calculateSimilarity(domain: string, path: string, selector: string, pattern: UserBehaviorPattern): number {\n        const domainSimilarity = this.calculateDomainSimilarity(domain, pattern.domain);\n        const pathSimilarity = this.calculatePathSimilarity(path, pattern.path);\n        const selectorSimilarity = this.calculateSelectorSimilarity(selector, pattern.selector);\n        \n        // Weight domain similarity highest, then path, then selector\n        return (domainSimilarity * 0.5) + (pathSimilarity * 0.3) + (selectorSimilarity * 0.2);\n    }\n\n    private calculateDomainSimilarity(domain1: string, domain2: string): number {\n        if (domain1 === domain2) return 1.0;\n        \n        const parts1 = domain1.split('.');\n        const parts2 = domain2.split('.');\n        \n        // Check if they share the same TLD and main domain\n        if (parts1.length >= 2 && parts2.length >= 2) {\n            if (parts1[parts1.length - 1] === parts2[parts2.length - 1] && \n                parts1[parts1.length - 2] === parts2[parts2.length - 2]) {\n                return 0.8;\n            }\n        }\n        \n        // Check if they share the same main domain\n        if (parts1.length >= 2 && parts2.length >= 2) {\n            if (parts1[parts1.length - 2] === parts2[parts2.length - 2]) {\n                return 0.6;\n            }\n        }\n        \n        return 0.0;\n    }\n\n    private calculatePathSimilarity(path1: string, path2: string): number {\n        if (path1 === path2) return 1.0;\n        \n        const segments1 = path1.split('/').filter(s => s.length > 0);\n        const segments2 = path2.split('/').filter(s => s.length > 0);\n        \n        if (segments1.length === 0 && segments2.length === 0) return 1.0;\n        if (segments1.length === 0 || segments2.length === 0) return 0.0;\n        \n        const commonSegments = segments1.filter(s => segments2.includes(s));\n        return commonSegments.length / Math.max(segments1.length, segments2.length);\n    }\n\n    private calculateSelectorSimilarity(selector1: string, selector2: string): number {\n        if (selector1 === selector2) return 1.0;\n        \n        const selectors1 = selector1.split(',').map(s => s.trim());\n        const selectors2 = selector2.split(',').map(s => s.trim());\n        \n        const commonSelectors = selectors1.filter(s => selectors2.includes(s));\n        return commonSelectors.length / Math.max(selectors1.length, selectors2.length);\n    }\n\n    private groupPatternsBySettings(patterns: UserBehaviorPattern[]): Map<string, UserBehaviorPattern[]> {\n        const groups = new Map<string, UserBehaviorPattern[]>();\n        \n        patterns.forEach(pattern => {\n            const key = this.generateSettingsKey(pattern.settings);\n            if (!groups.has(key)) {\n                groups.set(key, []);\n            }\n            groups.get(key)!.push(pattern);\n        });\n        \n        return groups;\n    }\n\n    private generateSettingsKey(settings: Partial<Options>): string {\n        const wave = settings.wave;\n        if (!wave) return 'default';\n        \n        return [\n            wave.waveSpeed?.toFixed(1) || '0',\n            wave.axisTranslateAmountXMax?.toFixed(1) || '0',\n            wave.axisTranslateAmountXMin?.toFixed(1) || '0',\n            wave.axisRotationAmountYMax?.toFixed(1) || '0',\n            wave.axisRotationAmountYMin?.toFixed(1) || '0',\n            wave.mouseFollowInterval?.toString() || '0'\n        ].join('|');\n    }\n\n    private areSettingsSimilar(settings1: Partial<Options>, settings2: Partial<Options>): boolean {\n        const wave1 = settings1.wave;\n        const wave2 = settings2.wave;\n        \n        if (!wave1 || !wave2) return false;\n        \n        const tolerance = 0.5;\n        \n        if (Math.abs((wave1.waveSpeed || 0) - (wave2.waveSpeed || 0)) > tolerance) return false;\n        if (Math.abs((wave1.axisTranslateAmountXMax || 0) - (wave2.axisTranslateAmountXMax || 0)) > tolerance) return false;\n        if (Math.abs((wave1.axisTranslateAmountXMin || 0) - (wave2.axisTranslateAmountXMin || 0)) > tolerance) return false;\n        if (Math.abs((wave1.axisRotationAmountYMax || 0) - (wave2.axisRotationAmountYMax || 0)) > tolerance) return false;\n        if (Math.abs((wave1.axisRotationAmountYMin || 0) - (wave2.axisRotationAmountYMin || 0)) > tolerance) return false;\n        if (Math.abs((wave1.mouseFollowInterval || 0) - (wave2.mouseFollowInterval || 0)) > 10) return false;\n        \n        return true;\n    }\n\n    private calculateConfidence(patterns: UserBehaviorPattern[]): number {\n        if (patterns.length === 0) return 0;\n        \n        const avgRating = patterns.reduce((sum, p) => sum + p.userRating, 0) / patterns.length;\n        const avgDuration = patterns.reduce((sum, p) => sum + p.duration, 0) / patterns.length;\n        const successRate = patterns.filter(p => p.success).length / patterns.length;\n        \n        // Normalize values\n        const normalizedRating = avgRating / 5;\n        const normalizedDuration = Math.min(avgDuration / 10000, 1); // Cap at 10 seconds\n        const normalizedSuccess = successRate;\n        \n        // Weight factors\n        const ratingWeight = 0.4;\n        const durationWeight = 0.3;\n        const successWeight = 0.3;\n        \n        return (normalizedRating * ratingWeight) + \n               (normalizedDuration * durationWeight) + \n               (normalizedSuccess * successWeight);\n    }\n\n    private averageSettings(patterns: UserBehaviorPattern[]): Partial<Options> {\n        if (patterns.length === 0) return {};\n        \n        const waveSettings = patterns.map(p => p.settings.wave).filter(Boolean) as Partial<Wave>[];\n        \n        if (waveSettings.length === 0) return {};\n        \n        const avgSettings: Partial<Options> = {\n            wave: new Wave({\n                waveSpeed: this.average(waveSettings.map(w => w.waveSpeed).filter(Boolean) as number[]),\n                axisTranslateAmountXMax: this.average(waveSettings.map(w => w.axisTranslateAmountXMax).filter(Boolean) as number[]),\n                axisTranslateAmountXMin: this.average(waveSettings.map(w => w.axisTranslateAmountXMin).filter(Boolean) as number[]),\n                axisRotationAmountYMax: this.average(waveSettings.map(w => w.axisRotationAmountYMax).filter(Boolean) as number[]),\n                axisRotationAmountYMin: this.average(waveSettings.map(w => w.axisRotationAmountYMin).filter(Boolean) as number[]),\n                mouseFollowInterval: this.average(waveSettings.map(w => w.mouseFollowInterval).filter(Boolean) as number[])\n            }),\n            showNotifications: this.mostCommon(patterns.map(p => p.settings.showNotifications).filter(Boolean) as boolean[]),\n            selectors: this.mostCommon(patterns.map(p => p.settings.selectors).filter(Boolean) as string[][])\n        };\n        \n        return avgSettings;\n    }\n\n    private average(numbers: number[]): number {\n        if (numbers.length === 0) return 0;\n        return numbers.reduce((sum, n) => sum + n, 0) / numbers.length;\n    }\n\n    private mostCommon<T>(items: T[]): T | undefined {\n        if (items.length === 0) return undefined;\n        \n        const counts = new Map<T, number>();\n        items.forEach(item => {\n            counts.set(item, (counts.get(item) || 0) + 1);\n        });\n        \n        let mostCommon: T | undefined;\n        let maxCount = 0;\n        \n        counts.forEach((count, item) => {\n            if (count > maxCount) {\n                maxCount = count;\n                mostCommon = item;\n            }\n        });\n        \n        return mostCommon;\n    }\n\n    private generateReasoning(patterns: UserBehaviorPattern[], domain: string, path: string): string[] {\n        const reasons: string[] = [];\n        \n        if (patterns.length > 0) {\n            reasons.push(`Based on ${patterns.length} similar usage patterns`);\n            \n            const avgRating = patterns.reduce((sum, p) => sum + p.userRating, 0) / patterns.length;\n            if (avgRating >= 4) {\n                reasons.push('High user satisfaction with similar settings');\n            }\n            \n            const domainPatterns = patterns.filter(p => this.calculateDomainSimilarity(domain, p.domain) > 0.8);\n            if (domainPatterns.length > 0) {\n                reasons.push(`Settings optimized for similar domains (${domainPatterns.length} patterns)`);\n            }\n        }\n        \n        return reasons;\n    }\n\n    private respectsUserSettings(mlSettings: Partial<Options>, userSettings: Partial<Options>): boolean {\n        const wave1 = mlSettings.wave;\n        const wave2 = userSettings.wave;\n        \n        if (!wave1 || !wave2) return true;\n        \n        // Check if ML settings are significantly different from user settings\n        if (Math.abs((wave1.waveSpeed || 0) - (wave2.waveSpeed || 0)) > 0.5) {\n            return false;\n        }\n        \n        if (Math.abs((wave1.axisTranslateAmountXMax || 0) - (wave2.axisTranslateAmountXMax || 0)) > 0.3) {\n            return false;\n        }\n        \n        if (Math.abs((wave1.axisRotationAmountYMax || 0) - (wave2.axisRotationAmountYMax || 0)) > 0.3) {\n            return false;\n        }\n        \n        // Check if ML selector is more comprehensive\n        if (wave1.selector && wave2.selector && \n            this.isSelectorMoreComprehensive(wave1.selector, wave2.selector)) {\n            return false;\n        }\n        \n        return true;\n    }\n\n    private isSelectorMoreComprehensive(selector1: string, selector2: string): boolean {\n        const selectors1 = selector1.split(',').map(s => s.trim());\n        const selectors2 = selector2.split(',').map(s => s.trim());\n        \n        // Check if selector1 covers more elements\n        const coverage1 = selectors1.length;\n        const coverage2 = selectors2.length;\n        \n        return coverage1 > coverage2;\n    }\n\n    private getFallbackRecommendation(domain: string, path: string, selector: string): MLSettingsRecommendation {\n        // Generate domain-specific fallback settings\n        const domainType = this.classifyDomain(domain);\n        \n        let fallbackSettings: Partial<Options> = {};\n        \n        switch (domainType) {\n            case 'news':\n                                 fallbackSettings = {\n                     wave: new Wave({\n                         selector,\n                         waveSpeed: 3,\n                         axisTranslateAmountXMax: 1,\n                         axisTranslateAmountXMin: -1,\n                         axisRotationAmountYMax: 2,\n                         axisRotationAmountYMin: -2,\n                         mouseFollowInterval: 80\n                     }),\n                    showNotifications: true,\n                    selectors: [selector]\n                };\n                break;\n                \n            case 'blog':\n                fallbackSettings = {\n                    wave: new Wave({\n                        selector,\n                        waveSpeed: 2.5,\n                        axisTranslateAmountXMax: 0.8,\n                        axisTranslateAmountXMin: -0.8,\n                        axisRotationAmountYMax: 1.5,\n                        axisRotationAmountYMin: -1.5,\n                        mouseFollowInterval: 100\n                    }),\n                    showNotifications: true,\n                    selectors: [selector]\n                };\n                break;\n                \n            case 'documentation':\n                fallbackSettings = {\n                    wave: new Wave({\n                        selector,\n                        waveSpeed: 4,\n                        axisTranslateAmountXMax: 1.2,\n                        axisTranslateAmountXMin: -1.2,\n                        axisRotationAmountYMax: 2.5,\n                        axisRotationAmountYMin: -2.5,\n                        mouseFollowInterval: 60\n                    }),\n                    showNotifications: false,\n                    selectors: [selector]\n                };\n                break;\n                \n            default:\n                fallbackSettings = {\n                    wave: new Wave({\n                        selector,\n                        waveSpeed: 2.5,\n                        axisTranslateAmountXMax: 0.8,\n                        axisTranslateAmountXMin: -0.8,\n                        axisRotationAmountYMax: 1.5,\n                        axisRotationAmountYMin: -1.5,\n                        mouseFollowInterval: 100\n                    }),\n                    showNotifications: true,\n                    selectors: [selector]\n                };\n        }\n        \n        // Apply statistical bounds to fallback settings as well\n        const constrainedFallbackSettings = this.applyStatisticalBounds(fallbackSettings);\n        \n        return {\n            confidence: 0.3,\n            settings: constrainedFallbackSettings,\n            reasoning: ['Fallback settings based on domain classification'],\n            similarPatterns: 0,\n            isDefault: true,\n            respectsUserSettings: true\n        };\n    }\n\n    private classifyDomain(domain: string): string {\n        const domainLower = domain.toLowerCase();\n        \n        if (domainLower.includes('news') || domainLower.includes('article')) return 'news';\n        if (domainLower.includes('blog') || domainLower.includes('post')) return 'blog';\n        if (domainLower.includes('docs') || domainLower.includes('manual') || domainLower.includes('guide')) return 'documentation';\n        if (domainLower.includes('shop') || domainLower.includes('store') || domainLower.includes('product')) return 'ecommerce';\n        if (domainLower.includes('social') || domainLower.includes('feed') || domainLower.includes('twitter')) return 'social';\n        \n        return 'general';\n    }\n\n    // Public methods for external use\n    async recordBehaviorPattern(pattern: UserBehaviorPattern): Promise<void> {\n        this.behaviorPatterns.push(pattern);\n    }\n\n    async getMLStats(): Promise<{\n        totalPatterns: number;\n        artificialPatterns: number;\n        userPatterns: number;\n        averageConfidence: number;\n        piiScrubbingEnabled: boolean;\n        sensitiveParamsRemoved: string[];\n    }> {\n        const artificialCount = this.behaviorPatterns.length - (this.behaviorPatterns.length / (this.artificialWeightMultiplier + 1));\n        const userCount = this.behaviorPatterns.length - artificialCount;\n        \n        return {\n            totalPatterns: this.behaviorPatterns.length,\n            artificialPatterns: Math.round(artificialCount),\n            userPatterns: Math.round(userCount),\n            averageConfidence: this.calculateAverageConfidence(),\n            piiScrubbingEnabled: true,\n            sensitiveParamsRemoved: [\n                'token', 'auth', 'key', 'secret', 'password', 'session', 'id', 'user',\n                'email', 'phone', 'tracking', 'utm_', 'fbclid', 'gclid', 'msclkid',\n                'ref', 'referrer', 'source', 'campaign', 'signature', 'hash'\n            ]\n        };\n    }\n\n    private calculateAverageConfidence(): number {\n        if (this.behaviorPatterns.length === 0) return 0;\n        \n        const confidences = this.behaviorPatterns.map(pattern => {\n            const similarPatterns = this.findSimilarPatterns(\n                pattern.domain, \n                pattern.path, \n                pattern.selector\n            );\n            return this.calculateConfidence(similarPatterns);\n        });\n        \n        return this.average(confidences);\n    }\n\n    // Statistical bounds methods\n    private applyStatisticalBounds(settings: Partial<Options>): Partial<Options> {\n        if (!settings.wave) return settings;\n\n        const constrainedWave = new Wave({\n            ...settings.wave,\n            waveSpeed: this.constrainToBounds(settings.wave.waveSpeed ?? 3, 'waveSpeed'),\n            axisTranslateAmountXMax: this.constrainToBounds(settings.wave.axisTranslateAmountXMax ?? 1, 'axisTranslateAmountXMax'),\n            axisTranslateAmountXMin: this.constrainToBounds(settings.wave.axisTranslateAmountXMin ?? -1, 'axisTranslateAmountXMin'),\n            axisRotationAmountYMax: this.constrainToBounds(settings.wave.axisRotationAmountYMax ?? 2, 'axisRotationAmountYMax'),\n            axisRotationAmountYMin: this.constrainToBounds(settings.wave.axisRotationAmountYMin ?? -2, 'axisRotationAmountYMin'),\n            mouseFollowInterval: this.constrainToBounds(settings.wave.mouseFollowInterval ?? 80, 'mouseFollowInterval')\n        });\n\n        return {\n            ...settings,\n            wave: constrainedWave\n        };\n    }\n\n    public getCurrentDefaults(): Partial<Options> {\n        return { ...this.defaultSettings };\n    }\n\n    public resetToNewDefaults(): Partial<Options> {\n        this.calculateStatisticalBounds();\n        return this.getCurrentDefaults();\n    }\n\n    public updateStatisticalBounds(): void {\n        this.calculateStatisticalBounds();\n    }\n\n    public getStatisticalBounds(): StatisticalBounds {\n        return { ...this.statisticalBounds };\n    }\n\n    /**\n     * Record domain path change for ML warehousing\n     * This helps track user navigation patterns and improve recommendations\n     */\n    async recordDomainPathChange(\n        domain: string, \n        path: string, \n        previousDomain?: string, \n        previousPath?: string,\n        userSettings?: Partial<Options>\n    ): Promise<void> {\n        // Clean paths to remove potential PII\n        const cleanPath = this.cleanPath(path);\n        const cleanPreviousPath = previousPath ? this.cleanPath(previousPath) : undefined;\n        \n        const pattern: UserBehaviorPattern = {\n            timestamp: Date.now(),\n            domain,\n            path: cleanPath,\n            selector: userSettings?.wave?.selector || 'p',\n            settings: userSettings || {},\n            success: true,\n            duration: 0,\n            userRating: 0\n        };\n\n        // Add navigation context if we have previous location\n        if (previousDomain || cleanPreviousPath) {\n            // Store navigation context in a way that doesn't conflict with Options type\n            (pattern.settings as any)._navigationContext = {\n                from: { domain: previousDomain, path: cleanPreviousPath },\n                to: { domain, path: cleanPath },\n                timestamp: Date.now()\n            };\n        }\n\n        this.behaviorPatterns.push(pattern);\n        \n        // Recalculate statistical bounds with new data\n        this.calculateStatisticalBounds();\n        \n        console.log(` ML: Recorded domain path change: ${previousDomain || 'unknown'}${previousPath || ''}  ${domain}${cleanPath}`);\n    }\n\n    /**\n     * Save domain/path-specific settings for future use\n     */\n    async saveDomainPathSettings(\n        domain: string,\n        path: string,\n        settings: Partial<Options>,\n        userRating: number = 5\n    ): Promise<void> {\n        try {\n            const cleanPath = this.cleanPath(path);\n            \n            if (settings && typeof settings.setDomainPathSettings === 'function') {\n                settings.setDomainPathSettings(domain, cleanPath, settings);\n                console.log(` ML: Saved domain/path settings for ${domain}${cleanPath}`);\n            }\n        } catch (error) {\n            console.warn('Failed to save domain/path settings:', error);\n        }\n    }\n\n    /**\n     * Get domain/path-specific settings\n     */\n    async getDomainPathSettings(\n        domain: string,\n        path: string,\n        settings: Partial<Options>\n    ): Promise<Partial<Options> | null> {\n        try {\n            const cleanPath = this.cleanPath(path);\n            \n            if (settings && typeof settings.getDomainPathSettings === 'function') {\n                const domainPathSettings = settings.getDomainPathSettings(domain, cleanPath);\n                if (domainPathSettings && Object.keys(domainPathSettings).length > 0) {\n                    console.log(` ML: Retrieved domain/path settings for ${domain}${cleanPath}`);\n                    return domainPathSettings;\n                }\n            }\n        } catch (error) {\n            console.warn('Failed to get domain/path settings:', error);\n        }\n        \n        return null;\n    }\n}\n\nexport default MLSettingsService;\n","\nexport interface AttributeAccessor {\n    [key: string]: any;\n}\n\nexport default abstract class AttributeConstructor<T> {\n\n    protected constructor(attributes?: AttributeAccessor & Partial<T>, requireAllAssigned: boolean = false) {\n        this.assign(attributes, requireAllAssigned)\n    }\n\n    protected assign(attributes?: AttributeAccessor & Partial<T>, requireAllAssigned: boolean = false) {\n        if (attributes) {\n            if (requireAllAssigned && !new Array(...Object.keys(attributes)).every(k => attributes[k] !== undefined)) {\n                throw new Error('if [requireAllAssigned == true], a message must contain properties with no undefined values!')\n            }\n            Object.assign(this, attributes)\n        }\n    }\n}\n","import { FeatureToggleService, getDefaultBackendRequestState } from '../config/feature-toggles';\nimport { createMockBackendResult, MockResponseContext, resolveMockKeyForEndpoint } from './mock-backend-responses';\n\nlet toggleService: FeatureToggleService | null = null;\nlet backendOverride: boolean | null = null;\n\nexport interface BackendRequestOptions {\n    endpoint: string;\n    options?: RequestInit;\n    mockKey?: string;\n    payload?: Record<string, unknown>;\n    context?: Record<string, unknown>;\n}\n\nexport interface BackendRequestResult<T = any> {\n    data: T;\n    backendDisabled: boolean;\n    response: Response;\n    mockKey?: string;\n}\n\nexport const registerBackendToggleService = (service: FeatureToggleService) => {\n    toggleService = service;\n};\n\nexport const setBackendRequestOverride = (enabled: boolean | null) => {\n    backendOverride = enabled;\n};\n\nconst isBackendEnabled = async (): Promise<boolean> => {\n    if (backendOverride !== null) {\n        return backendOverride;\n    }\n\n    if (toggleService) {\n        try {\n            return await toggleService.canMakeBackendRequests();\n        } catch (error) {\n            console.warn('Failed to evaluate backend request toggle, using default.', error);\n        }\n    }\n\n    return getDefaultBackendRequestState();\n};\n\nconst createMockResponse = (key: string, context: MockResponseContext = {}): Response => {\n    const { data } = createMockBackendResult(key, context);\n    const headers = new Headers({\n        'Content-Type': 'application/json',\n        'X-Backend-Disabled': 'true'\n    });\n    return new Response(JSON.stringify(data), {\n        status: 200,\n        headers\n    });\n};\n\nexport const safeFetch = async (\n    input: RequestInfo | URL,\n    init: RequestInit = {},\n    mockKey = 'default',\n    context: MockResponseContext = {}\n): Promise<Response> => {\n    const enabled = await isBackendEnabled();\n\n    if (enabled) {\n        return fetch(input, init);\n    }\n\n    return createMockResponse(mockKey, {\n        ...context,\n        request: input,\n        init\n    });\n};\n\nexport const performBackendRequest = async <T = any>({\n    endpoint,\n    options = {},\n    mockKey = 'default',\n    payload,\n    context = {}\n}: BackendRequestOptions): Promise<BackendRequestResult<T>> => {\n    const effectiveMockKey = resolveMockKeyForEndpoint(endpoint, mockKey);\n\n    const response = await safeFetch(\n        endpoint,\n        options,\n        effectiveMockKey,\n        {\n            ...context,\n            payload\n        }\n    );\n\n    const backendDisabled = response.headers?.get?.('X-Backend-Disabled') === 'true';\n    const data = (await response.json()) as T;\n\n    return {\n        data,\n        backendDisabled,\n        response,\n        mockKey: effectiveMockKey\n    };\n};\n\nexport interface GraphQLRequestOptions {\n    endpoint: string;\n    query: string;\n    variables?: Record<string, unknown>;\n    requestInit?: RequestInit;\n    mockKey?: string;\n    context?: Record<string, unknown>;\n}\n\nexport interface GraphQLRequestResult<T = any> {\n    data: T;\n    errors?: any;\n    backendDisabled: boolean;\n}\n\nexport const safeGraphQLRequest = async <T = any>({\n    endpoint,\n    query,\n    variables = {},\n    requestInit = {},\n    mockKey = 'graphql',\n    context = {}\n}: GraphQLRequestOptions): Promise<GraphQLRequestResult<T>> => {\n    const body = JSON.stringify({ query, variables });\n    const headers = {\n        'Content-Type': 'application/json',\n        ...(requestInit.headers || {})\n    } as Record<string, string>;\n\n    const response = await safeFetch(\n        endpoint,\n        {\n            method: 'POST',\n            ...requestInit,\n            headers,\n            body\n        },\n        mockKey,\n        {\n            ...context,\n            payload: { query, variables }\n        }\n    );\n\n    const backendDisabled = response.headers.get('X-Backend-Disabled') === 'true';\n    const json = await response.json();\n\n    const data = json?.data ?? json;\n    const errors = json?.errors;\n\n    return {\n        data,\n        errors,\n        backendDisabled\n    };\n};\n\nexport const getBackendRequestState = async (): Promise<boolean> => isBackendEnabled();\n","export interface MockResponseContext {\n    request?: RequestInfo | URL;\n    init?: RequestInit;\n    payload?: any;\n}\n\nexport interface MockBackendResult<T = any> {\n    data: T;\n    backendDisabled: boolean;\n    metadata?: Record<string, any>;\n}\n\nconst now = () => new Date().toISOString();\n\nconst mockGenerators: Record<string, (context: MockResponseContext) => any> = {\n    'wave/start': (context) => ({\n        success: true,\n        message: 'Wave reader started (mock)',\n        selector: context.payload?.selector ?? 'p',\n        options: context.payload?.options ?? {},\n        timestamp: now(),\n        mocked: true\n    }),\n    'wave/stop': () => ({\n        success: true,\n        message: 'Wave reader stopped (mock)',\n        timestamp: now(),\n        mocked: true\n    }),\n    'wave/status': () => ({\n        success: true,\n        status: 'stopped',\n        going: false,\n        timestamp: now(),\n        mocked: true\n    }),\n    'wave/health': () => ({\n        success: true,\n        status: 'healthy',\n        timestamp: now(),\n        mocked: true\n    }),\n    'ml/recommendations': (context) => ({\n        success: true,\n        recommendations: [\n            {\n                confidence: 0.92,\n                selector: context.payload?.selector ?? 'p',\n                settings: context.payload?.settings ?? {},\n                reasoning: ['Mocked ML recommendation']\n            }\n        ],\n        timestamp: now(),\n        mocked: true\n    }),\n    'ml/stats': () => ({\n        success: true,\n        patterns: 0,\n        averageConfidence: 0,\n        domainCoverage: [],\n        timestamp: now(),\n        mocked: true\n    }),\n    graphql: () => ({\n        data: {},\n        errors: [],\n        mocked: true\n    }),\n    default: () => ({\n        success: true,\n        mocked: true,\n        timestamp: now()\n    })\n};\n\nconst normalizeKey = (key: string): string => key.replace(/^\\/+|\\/+$|\\s+/g, '').toLowerCase();\n\nexport function resolveMockKeyForEndpoint(endpoint: string, explicit?: string): string {\n    if (explicit) {\n        return explicit;\n    }\n\n    try {\n        const url = new URL(endpoint, 'http://localhost');\n        const path = url.pathname.replace(/^\\//, '');\n\n        if (path.startsWith('api/wave-reader/start')) {\n            return 'wave/start';\n        }\n        if (path.startsWith('api/wave-reader/stop')) {\n            return 'wave/stop';\n        }\n        if (path.startsWith('api/wave-reader/status')) {\n            return 'wave/status';\n        }\n        if (path.startsWith('api/wave-reader/health')) {\n            return 'wave/health';\n        }\n        if (path.startsWith('api/ml/recommendations')) {\n            return 'ml/recommendations';\n        }\n        if (path.startsWith('api/ml/stats')) {\n            return 'ml/stats';\n        }\n\n        return 'default';\n    } catch (error) {\n        console.warn('Failed to resolve mock key for endpoint, defaulting to mock \"default\"', error);\n        return 'default';\n    }\n}\n\nexport function getMockBackendData(key: string, context: MockResponseContext = {}): any {\n    const generator = mockGenerators[normalizeKey(key)] || mockGenerators.default;\n    return generator(context);\n}\n\nexport function createMockBackendResult(key: string, context: MockResponseContext = {}): MockBackendResult {\n    const resolvedKey = normalizeKey(key);\n    const data = getMockBackendData(resolvedKey, context);\n    return {\n        data,\n        backendDisabled: true,\n        metadata: {\n            key: resolvedKey,\n            generatedAt: now()\n        }\n    };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"regenerator-runtime/runtime\";\n\n// Import our background system\nimport LogViewBackgroundSystem from \"../src/background-scripts/log-view-background-system\";\n\nconsole.log(\" Wave Reader background script is loading...\");\n\n// Initialize the background system\nconst backgroundSystem = new LogViewBackgroundSystem();\n\n// Expose to global scope for debugging (service worker context)\n// Note: In service worker, we can't use window, but we can use self\nif (typeof self !== 'undefined') {\n    self.waveReaderBackground = backgroundSystem;\n} else if (typeof globalThis !== 'undefined') {\n    globalThis.waveReaderBackground = backgroundSystem;\n}\n\nconsole.log(\" Wave Reader background script loaded successfully\");\n"],"names":["LogViewBackgroundSystem","console","log","backgroundSystem","self","waveReaderBackground","globalThis"],"sourceRoot":""}